<div class="options-skin">
	<h1 class="container-title">活動行程</h1>
    <details class="container-box" open>
        <summary class="toggle-title">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-caret-down-fill" viewBox="0 0 16 16">
                <path d="M7.247 11.14 2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z"/>
            </svg>
            <h2>基本設置</h2>
        </summary>
        <div class="main-content mb-2">
            <div class="d-flex flex-wrap gap-3 w-100">
                <div class="form-group">
                    <label class="form-label" for="page-name">頁面標題</label>
                    <input id="page-name" class="form-control" name="schedule_title" type="text" maxlength="20" placeholder="標題最多為20個字元">
                </div>
                <div class="form-group">
                    <label class="form-label" for="page-name">日期顯示</label>
                    <div class="radio-button-box">
                        <div class="radio-button">
                            <input type="radio" id="schedule_display_date_open" name="schedule_display_date" value="open" checked>
                            <label for="schedule_display_date_open">顯示</label>
                        </div>
                        <div class="radio-button">
                            <input type="radio" id="schedule_display_date_close" name="schedule_display_date" value="close">
                            <label for="schedule_display_date_close">隱藏</label>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <label class="form-label" for="page-name">行程內容</label>
                    <div class="radio-button-box">
                        <div class="radio-button">
                            <input type="radio" id="schedule_display_detail_open" name="schedule_display_detail" value="open" checked>
                            <label for="schedule_display_detail_open">顯示</label>
                        </div>
                        <div class="radio-button">
                            <input type="radio" id="schedule_display_detail_close" name="schedule_display_detail" value="close">
                            <label for="schedule_display_detail_close">隱藏</label>
                        </div>
                    </div>
                </div>

            </div>
        </div>
        <div class="footer">
            <button class="btn btn-light-blue" data-name="save-data">
                <i class="bi bi-floppy2-fill"></i>
                <p>儲存設置</p>
            </button>
        </div>
    </details>
    <details class="container-box" open>
        <summary class="toggle-title">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-caret-down-fill" viewBox="0 0 16 16">
                <path d="M7.247 11.14 2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z"/>
            </svg>
            <h2>資訊列表</h2>
        </summary>
        <div class="main-content">

            <div class="toolbox">
                <div class="d-flex flex-row flex-wrap align-items-center gap-2">
                    <button class="btn btn-light-blue" data-name="add-data" data-bs-toggle="modal" data-bs-target="#schedule-form">
                        <i class="bi bi-plus-lg"></i>
                        <p>新增行程</p>
                    </button>
                    <label class="btn btn-noborder" for="upload-data">
                        <i class="bi bi-download"></i>
                        <p>資料匯入</p>
                    </label>
                    <input class="d-none" id="upload-data" type="file" name="excel" accept=".csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel">
                    <a class="btn btn-noborder" id="download-example-data" href="/admin/uploads/system/excel/schedule.xlsx" download="活動行程 - 資料匯入範本.xlsx">
                        <i class="bi bi-file-earmark-spreadsheet"></i>
                        <p>下載匯入範本</p>
                    </a>
                </div>
                <div class="d-flex flex-row flex-wrap align-items-center gap-2">
                    <button class="btn btn-noborder" data-name="delete-select-data">
                        <i class="bi bi-trash"></i>
                        <p>刪除選取資料</p>
                    </button>
                    <!-- <button class="btn btn-noborder" data-name="download-data">
                        <i class="bi bi-trash"></i>
                        <p>資料匯出</p>
                    </button> -->
                    <!-- <div class="search-data-box">
                        <div class="input-group">
                            <input type="text" class="form-control" id="search-data-input" placeholder="請輸入用戶名稱" aria-describedby="search-data-button">
                            <button class="btn btn-border-gray" type="button" id="search-data-button" style="border-top-right-radius: 0.25rem; border-bottom-right-radius: 0.25rem;">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-search" viewBox="0 0 16 16">
                                    <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"/>
                                </svg>
                            </button>
                            <button class="btn btn-border-gray d-none" type="button" id="clear-search-button">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-x" viewBox="0 0 16 16">
                                    <path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"/>
                                    </svg>
                            </button>
                        </div>
                    </div> -->
                </div>
            </div>
            <div class="data-view">
                <div class="table" style="max-height: 37.5rem;">
                    <div class="thead">
                        <div class="tr">
                            <div class="th check-th">
                                <input class="form-check-input" type="checkbox" data-name="select-tr">
                            </div>
                            <div class="th index-th d-none"><p>順序</p></div>
                            <div class="th title-th"><p>行程標題</p>
                                <i class="bi bi-arrow-down d-none"></i>
                                <i class="bi bi-arrow-up d-none"></i>
                            </div>
                            <div class="th date-th"><p>行程日期</p></div>
                            <div class="th date-th"><p>開始時間</p></div>
                            <div class="th date-th"><p>結束時間</p></div>
                            <div class="th textarea-limited-th xl-container full"><p>行程內容</p></div>
                            <div class="th control-th pin right-pin pin-sm sm-container"><p>操作</p></div>
                        </div>
                    </div>
                    <div class="tbody"></div>
                </div>
            </div>

        </div>
    </details>
</div>

<form class="modal fade modal-form" id="schedule-form" tabindex="-1" data-bs-backdrop="static" data-bs-keyboard="false" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
        <div class="modal-content form-modal">
            <div class="modal-header form-modal-header">
                <h5 class="modal-title form-modal-title">活動行程</h5>
                <button type="button" class="btn-close button-x" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body form-modal-body p-4">
                <div class="d-flex flex-column gap-2 w-100">

                    <input id="data-id" type="hidden" name="id" value="">
                    <input id="data-sort" type="hidden" name="sort" value="">
                    <div class="form-group">
                        <label class="form-label" for="input-title">行程標題</label>
                        <input class="form-control" id="input-title" type="text" name="title" placeholder="必填，請填寫行程標題，上限為20個字" maxlength="20" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="input-date">行程日期</label>
                        <input class="form-control" id="input-date" type="date" name="schedule_date" placeholder="必填，請填入此行程舉行的日期" required>
                    </div>
                    <div class="d-flex flex-sm-row flex-column gap-2">
                        <div class="form-group">
                            <label class="form-label" for="input-startTime">開始時間</label>
                            <input class="form-control" id="input-startTime" type="time" name="start_time" placeholder="必填，請填入此行程的開始時間" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label" for="input-endTime">結束時間</label>
                            <input class="form-control" id="input-endTime" type="time" name="end_time" placeholder="必填，請填入此行程的結束時間" required>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="input-introduce">行程內容</label>
                        <textarea class="form-control" id="input-introduce" name="content" placeholder="可以填寫此行程的活動內容或節目表演等規劃，上限為200個字" rows="3" maxlength="200" autocomplete="off"></textarea>
                    </div>

                </div>
            </div>
            <div class="modal-footer form-modal-footer">
                <button class="button button-blue" data-name="save-add-data" type="button">確定新增</button>
                <button class="button button-blue d-none" data-name="save-edit-data" type="button">確定修改</button>
                <button class="button button-gray" type="button" data-bs-dismiss="modal">取消</button>
            </div>
        </div>
    </div>
</form>

<div class="modal fade" id="userDataModal" tabindex="-1" aria-labelledby="userDataModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="userDataModalLabel">活動行程詳細資料</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="d-none">
                    <h6>ID</h6><p data-name="id">無填寫</p>
                </div>
                <ul class="list-group">
                    <li class="list-group-item">
                        <div class="fs-5 fw-bold title">行程標題</div>
                        <div class="fs-6 content text-black-50" data-name="title">無填寫</div>
                    </li>
                    <li class="list-group-item">
                        <div class="fs-5 fw-bold title">行程日期</div>
                        <div class="fs-6 content text-black-50" data-name="date">無填寫</div>
                    </li>
                    <li class="list-group-item">
                        <div class="fs-5 fw-bold title">開始時間</div>
                        <div class="fs-6 content text-black-50" data-name="startTime">無填寫</div>
                    </li>
                    <li class="list-group-item">
                        <div class="fs-5 fw-bold title">結束時間</div>
                        <div class="fs-6 content text-black-50" data-name="endTime">無填寫</div>
                    </li>
                    <li class="list-group-item">
                        <div class="fs-5 fw-bold title">行程內容</div>
                        <div class="fs-6 content text-black-50" data-name="content">無填寫</div>
                    </li>
                </ul>
            </div>
            <div class="modal-footer">
                <button class="btn btn-border-gray" data-name="edit-data" data-bs-toggle="modal" data-bs-target="#schedule-form">
                    <i class="bi bi-pencil"></i>
                    <p>編輯</p>
                </button>
                <button class="btn btn-border-gray" data-name="delete-data">
                    <i class="bi bi-trash"></i>
                    <p>刪除</p>
                </button>
            </div>
        </div>
    </div>
</div>

<template id="tr">
    <div class="tr">
        <div class="td check-td">
            <input class="form-check-input" type="checkbox" data-name="select-tr">
        </div>
        <div class="td title-td" data-name="title"></div>
        <div class="td date-td" data-name="date"></div>
        <div class="td date-td" data-name="startTime"></div>
        <div class="td date-td" data-name="endTime"></div>
        <div class="td textarea-limited-td xl-container full">
            <p data-name="content"></p>
        </div>
        <div class="td control-td pin right-pin pin-sm sm-container">
            <ul>
                <li title="編輯" data-name="edit-data" data-bs-toggle="modal" data-bs-target="#schedule-form"><i class="bi bi-pencil"></i></li>
                <li title="刪除" data-name="delete-data"><i class="bi bi-trash"></i></li>
            </ul>
        </div>
    </div>
</template>

<var class="variable d-none">
    <var class="userID">{{.User.UserID}}</var>
    <var class="token">{{.Token}}</var>
    <var class="route-patch">{{.Route.PATCH}}</var>
    <var class="route-post">{{.Route.POST}}</var>
    <var class="route-put">{{.Route.PUT}}</var>
    <var class="route-delete">{{.Route.DELETE}}</var>
    <var class="route-back">{{.Route.Back}}</var>
</var>