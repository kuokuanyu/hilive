<div class="options-skin">
    <h1 class="container-title">活動介紹</h1>
    <details class="container-box" open>
        <summary class="toggle-title">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-caret-down-fill" viewBox="0 0 16 16">
                <path d="M7.247 11.14 2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z"/>
            </svg>
            <h2>基本設置</h2>
        </summary>
        <div class="main-content mb-2">
            <div class="d-flex flex-wrap gap-3 w-100">
                <div class="form-group">
                    <label class="form-label" for="page-name">頁面標題</label>
                    <input id="page-name" class="form-control" name="introduce_title" type="text" maxlength="20" placeholder="標題最多為20個字元">
                </div>
            </div>
        </div>
        <div class="footer">
            <button class="btn btn-light-blue" data-name="save-data">
                <i class="bi bi-floppy2-fill"></i>
                <p>儲存設置</p>
            </button>
        </div>
    </details>
    <details class="container-box" open>
        <summary class="toggle-title">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-caret-down-fill" viewBox="0 0 16 16">
                <path d="M7.247 11.14 2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z"/>
            </svg>
            <h2>資訊列表</h2>
        </summary>
        <div class="main-content">
            
            <div class="toolbox">
                <div class="d-flex flex-row flex-wrap align-items-center gap-2">
                    <button class="btn btn-light-blue" data-name="add-data" data-bs-toggle="modal" data-bs-target="#introduce-form">
                        <i class="bi bi-plus-lg"></i>
                        <p>新增介紹</p>
                    </button>
                    <label class="btn btn-noborder" for="upload-data">
                        <i class="bi bi-download"></i>
                        <p>資料匯入</p>
                    </label>
                    <input class="d-none" id="upload-data" type="file" name="excel" accept=".csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel">
                    <a class="btn btn-noborder" id="download-example-data" href="/admin/uploads/system/excel/introduce.xlsx" download="活動介紹 - 資料匯入範本.xlsx">
                        <i class="bi bi-file-earmark-spreadsheet"></i>
                        <p>下載匯入範本</p>
                    </a>
                </div>
                <div class="d-flex flex-row flex-wrap align-items-center gap-2">
                    <button class="btn btn-light-yellow" data-name="change-sort">
                        <i class="bi bi-sort-numeric-down"></i>
                        <p>更換資料順序</p>
                    </button>
                    <button class="btn btn-noborder" data-name="delete-select-data">
                        <i class="bi bi-trash"></i>
                        <p>刪除選取資料</p>
                    </button>
                </div>
            </div>
            <div class="sort-toolbox d-none">
                <div class="d-flex flex-row flex-wrap align-items-center gap-2">
                    <button class="btn btn-light-blue" data-name="save-sort">
                        <i class="bi bi-floppy2-fill"></i>
                        <p>儲存順序</p>
                    </button>
                    <div class="alert"><p>※ 請用滑鼠拖拉資料條更換您想放置的順序</p></div>
                </div>
            </div>
            <div class="data-view">
                <div class="table" style="max-height: 37.5rem;">
                    <div class="thead">
                        <div class="tr">
                            <div class="th check-th">
                                <input class="form-check-input" type="checkbox" data-name="select-tr">
                            </div>
                            <div class="th index-th d-none"><p>順序</p></div>
                            <div class="th title-th"><p>介紹標題</p>
                                <i class="bi bi-arrow-down d-none"></i>
                                <i class="bi bi-arrow-up d-none"></i>
                            </div>
                            <div class="th type-th"><p>內容類型</p></div>
                            <div class="th textarea-limited-th xl-container full"><p>介紹內容</p></div>
                            <div class="th control-th pin right-pin pin-sm sm-container"><p>操作</p></div>
                        </div>
                    </div>
                    <div class="tbody"></div>
                </div>
            </div>
        </div>
    </details>
</div>

<form class="modal fade modal-form" id="introduce-form" tabindex="-1" data-bs-backdrop="static" data-bs-keyboard="false" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable modal-md">
        <div class="modal-content form-modal">
            <div class="modal-header form-modal-header">
                <h5 class="modal-title form-modal-title">活動介紹</h5>
                <button type="button" class="btn-close button-x" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body form-modal-body p-4">
                <div class="d-flex flex-column gap-2 w-100">

                    <input id="data-id" type="hidden" name="id" value="">
                    <input id="data-sort" type="hidden" name="sort" value="">
                    <div class="form-group">
                        <label class="form-label" for="input-title">介紹標題</label>
                        <input class="form-control" id="input-title" type="text" name="title" placeholder="必填，請填寫介紹標題，上限為20個字" maxlength="20" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">內容類型</label>
                        <div class="radio-button-box">
                            <div class="radio-button">
                                <input type="radio" id="input-type-text" name="introduce_type" value="text" checked>
                                <label for="input-type-text">文字</label>
                            </div>
                            <div class="radio-button">
                                <input type="radio" id="input-type-img" name="introduce_type" value="picture">
                                <label for="input-type-img">圖片</label>
                            </div>
                        </div>
                    </div>
                    <div id="textarea-form-group" class="form-group">
                        <label class="form-label" for="input-textarea">介紹內容</label>
                        <textarea class="form-control" id="input-textarea" name="content" placeholder="可以介紹活動的內容或周邊環境、交通資訊等，上限為200個字" rows="3" maxlength="200" autocomplete="off"></textarea>
                    </div>
                    <div id="file-form-group" class="form-group">
                        <label class="form-label" for="input-file">介紹圖片
                            <span><i class="bi bi-info-circle" data-bs-toggle="tooltip" data-bs-placement="right" data-bs-title="檔案僅支援jpg, gif, png，且不得超過10MB"></i></span>
                        </label>
                        <label class="upload-background-box" for="input-file" data-name="content">
                            <div class="background-view-img">
                                <img src="/admin/uploads/system/1px.png" alt="介紹圖片" style="width: 100%; height: 100%; object-fit: contain;">
                            </div>
                            <div class="filter-bg"></div>
                            <div class="btn-upload-avatar">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-pencil-fill" viewBox="0 0 16 16">
                                    <path d="M12.854.146a.5.5 0 0 0-.707 0L10.5 1.793 14.207 5.5l1.647-1.646a.5.5 0 0 0 0-.708l-3-3zm.646 6.061L9.793 2.5 3.293 9H3.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.207l6.5-6.5zm-7.468 7.468A.5.5 0 0 1 6 13.5V13h-.5a.5.5 0 0 1-.5-.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.5-.5V10h-.5a.499.499 0 0 1-.175-.032l-.179.178a.5.5 0 0 0-.11.168l-2 5a.5.5 0 0 0 .65.65l5-2a.5.5 0 0 0 .168-.11l.178-.178z"></path>
                                </svg>
                            </div>
                            <input class="d-none" id="input-file" name="content" type="file" accept="image/jpeg, image/png, image/gif">
                        </label>
                    </div>

                </div>
            </div>
            <div class="modal-footer form-modal-footer">
                <button class="button button-blue" data-name="save-add-data" type="button">確定新增</button>
                <button class="button button-blue d-none" data-name="save-edit-data" type="button">確定修改</button>
                <button class="button button-gray" type="button" data-bs-dismiss="modal">取消</button>
            </div>
        </div>
    </div>
</form>

<div class="modal fade" id="userDataModal" tabindex="-1" aria-labelledby="userDataModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="userDataModalLabel">活動介紹詳細資料</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="d-none">
                    <h6>ID</h6><p data-name="id">無填寫</p>
                    <h6>順序</h6><p data-name="sort">無填寫</p>
                </div>
                <ul class="list-group">
                    <li class="list-group-item">
                        <div class="fs-5 fw-bold title">介紹標題</div>
                        <div class="fs-6 content text-black-50" data-name="title">無填寫</div>
                    </li>
                    <li class="list-group-item">
                        <div class="fs-5 fw-bold title">內容類型</div>
                        <div class="fs-6 content text-black-50" data-name="type">無填寫</div>
                    </li>
                    <li class="list-group-item">
                        <div class="fs-5 fw-bold title">介紹內容</div>
                        <div class="fs-6 content text-black-50" data-name="content">無填寫</div>
                    </li>
                </ul>
            </div>
            <div class="modal-footer">
                <button class="btn btn-border-gray" data-name="edit-data" data-bs-toggle="modal" data-bs-target="#introduce-form">
                    <i class="bi bi-pencil"></i>
                    <p>編輯</p>
                </button>
                <button class="btn btn-border-gray" data-name="delete-data">
                    <i class="bi bi-trash"></i>
                    <p>刪除</p>
                </button>
            </div>
        </div>
    </div>
</div>

<template id="tr">
    <div class="tr">
        <div class="td check-td">
            <input class="form-check-input" type="checkbox" data-name="select-tr">
        </div>
        <div class="td index-td d-none" data-name="sort"></div>
        <div class="td title-td" data-name="title"></div>
        <div class="td type-td" data-name="type"></div>
        <div class="td textarea-limited-td xl-container full">
            <p data-name="content"></p>
        </div>
        <div class="td image-td xl-container full">
            <img data-name="content"/>
        </div>
        <div class="td control-td pin right-pin pin-sm sm-container">
            <ul>
                <li title="編輯" data-name="edit-data" data-bs-toggle="modal" data-bs-target="#introduce-form"><i class="bi bi-pencil"></i></li>
                <li title="刪除" data-name="delete-data"><i class="bi bi-trash"></i></li>
            </ul>
        </div>
    </div>
</template>

<var class="variable d-none">
    <var class="userID">{{.User.UserID}}</var>
    <var class="token">{{.Token}}</var>
    <var class="route-patch">{{.Route.PATCH}}</var>
    <var class="route-post">{{.Route.POST}}</var>
    <var class="route-put">{{.Route.PUT}}</var>
    <var class="route-delete">{{.Route.DELETE}}</var>
    <var class="route-back">{{.Route.Back}}</var>
</var>