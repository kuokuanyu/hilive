<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="application-name" content="HiLives">
    <title>HiLives聊天室</title>

    <link rel="icon" type="image/x-icon" href="/admin/assets/dist/favicon.svg">

    <!-- Jquery -->
    <script src="https://code.jquery.com/jquery-3.6.0.js" integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk=" crossorigin="anonymous"></script>

    <!-- Style CSS -->
    <link href="/admin/assets/chatroom/controller.css?ver=HILIVES20240423-0.1.6" rel="stylesheet">
    
</head>
<body>
    <div class="page-container">
        <div id="page-select" class="page">
            <select id="control-page-select" name="">
                <option selected>請選擇活動頁面</option>
            </select>
            <ul>
                <li>
                    <h6 class="page-type-tittle">聊天互動</h6>
                    <ul class="page-button-box">
                        <li class="page-button">
                            <button class="button" data-name="message">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 78 73.67">
                                    <path d="M50,15C28.46,15,11,29.33,11,47c0,10.06,5.66,19,14.5,24.89.67,4.57,2.74,9.89,7.3,15.74a2.65,2.65,0,0,0,4.7-1.06,20.44,20.44,0,0,1,3.71-8.4A46.88,46.88,0,0,0,50,79c21.54,0,39-14.33,39-32S71.54,15,50,15ZM62,51H37a4,4,0,0,1,0-8H62a4,4,0,0,1,0,8Z" transform="translate(-11 -15)"/>
                                </svg>
                            </button>
                            <p>訊息區</p>
                            <small>目前頁面</small>
                        </li>
                        <li class="page-button">
                            <button class="button" data-name="topic">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 78 73.67">
                                    <path d="M50,15C28.46,15,11,29.33,11,47c0,10.06,5.66,19,14.5,24.89.67,4.57,2.74,9.89,7.3,15.74a2.65,2.65,0,0,0,4.7-1.06,20.44,20.44,0,0,1,3.71-8.4A46.88,46.88,0,0,0,50,79c21.54,0,39-14.33,39-32S71.54,15,50,15Zm0,61a44.62,44.62,0,0,1-8.23-.77,2.67,2.67,0,0,0-.56-.06,3,3,0,0,0-2.34,1.13,22.73,22.73,0,0,0-4.14,8.92,30.58,30.58,0,0,1-6.27-13.77,3,3,0,0,0-1.3-2.06C18.79,63.84,14,55.68,14,47c0-16,16.15-29,36-29S86,31,86,47,69.85,76,50,76ZM83.92,45.08,83,46l-5.34-5.35,3.89-3.89a26.29,26.29,0,0,0-4.76-6.55L72,35l-5.34-5.35,4.16-4.16A36.62,36.62,0,0,0,63.1,21.9L61,24l-3.53-3.53c-1.13-.2-2.29-.36-3.47-.47l-4,4-4-4c-1.18.11-2.34.27-3.47.47L39,24l-2.1-2.1a36.62,36.62,0,0,0-7.72,3.59l4.16,4.16L28,35l-4.79-4.79a26.29,26.29,0,0,0-4.76,6.55l3.89,3.89L17,46l-.92-.92c0,.57-.08,1.14-.08,1.73,0,.16,0,.32,0,.48l1-1,5.34,5.34L18,56A26.94,26.94,0,0,0,25.4,65.4l-2.74-2.75L28,57.31l5.34,5.34-5,5a5,5,0,0,1,2,3.06l3,3L31.59,75.4a29.1,29.1,0,0,0,2.48,5.1,23.07,23.07,0,0,1,2.21-4.22l-2.62-2.63L39,68.31l5.08,5.08.75.09L50,68.31l5.18,5.18.74-.1L61,68.31l3.07,3.07a36.5,36.5,0,0,0,7.56-3.75l-5-5L72,57.31l5.34,5.34L74.5,65.5A27,27,0,0,0,82,56l-4.32-4.33L83,46.31l1,1c0-.17,0-.33,0-.49C84,46.22,84,45.65,83.92,45.08ZM28,57l-5.34-5.35L28,46.31l5.34,5.34Zm0-11-5.34-5.35L28,35.31l5.34,5.34ZM39,68l-5.34-5.35L39,57.31l5.34,5.34Zm0-11-5.34-5.35L39,46.31l5.34,5.34Zm0-11-5.34-5.35L39,35.31l5.34,5.34Zm0-11-5.34-5.35L39,24.31l5.34,5.34ZM50,68l-5.34-5.35L50,57.31l5.34,5.34Zm0-11-5.34-5.35L50,46.31l5.34,5.34Zm0-11-5.34-5.35L50,35.31l5.34,5.34Zm0-11-5.34-5.35L50,24.31l5.34,5.34ZM61,68l-5.34-5.35L61,57.31l5.34,5.34Zm0-11-5.34-5.35L61,46.31l5.34,5.34Zm0-11-5.34-5.35L61,35.31l5.34,5.34Zm0-11-5.34-5.35L61,24.31l5.34,5.34ZM72,57l-5.34-5.35L72,46.31l5.34,5.34Zm0-11-5.34-5.35L72,35.31l5.34,5.34Z" transform="translate(-11 -15)"/>
                                </svg>
                            </button>
                            <p>主題區</p>
                            <small>目前頁面</small>
                        </li>
                        <li class="page-button">
                            <button class="button" data-name="question">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 78 73.67">
                                    <path d="M50,15C28.46,15,11,29.33,11,47c0,10.06,5.66,19,14.5,24.89.67,4.57,2.74,9.89,7.3,15.74a2.65,2.65,0,0,0,4.7-1.06,20.44,20.44,0,0,1,3.71-8.4A46.88,46.88,0,0,0,50,79c21.54,0,39-14.33,39-32S71.54,15,50,15Zm2.34,46.59a4.08,4.08,0,0,1-5.14,0,3.17,3.17,0,0,1,0-4.68,4.08,4.08,0,0,1,5.14,0,3.17,3.17,0,0,1,0,4.68Zm6.09-17.2a9.69,9.69,0,0,1-2,2.67l-2.22,2.06A5.26,5.26,0,0,0,52.87,51a2.76,2.76,0,0,0-.15.46,2.76,2.76,0,0,1-2.68,2,2.83,2.83,0,0,1-2.74-3.5,6.81,6.81,0,0,1,2.35-3.76A13.79,13.79,0,0,0,51.82,44a3.59,3.59,0,0,0,.74-2.18c0-1.94-.84-2.91-2.51-2.91a2.29,2.29,0,0,0-1.86.85,2.81,2.81,0,0,0-.45.73A2.7,2.7,0,0,1,45.23,42h-.85a2.82,2.82,0,0,1-2.5-4.13A6.83,6.83,0,0,1,43.36,36a9.65,9.65,0,0,1,6.69-2.14,10.08,10.08,0,0,1,6.66,2,7,7,0,0,1,2.35,5.64A6.67,6.67,0,0,1,58.43,44.39Z" transform="translate(-11 -15)"/>
                                </svg>
                            </button>
                            <p>提問區</p>
                            <small>目前頁面</small>
                        </li>
                    </ul>
                </li>
                <li>
                    <h6 class="page-type-tittle">簽到展示</h6>
                    <ul class="page-button-box">
                        <li class="page-button">
                            <button class="button" data-name="general">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 70 70">
                                    <path d="M80,15H20a5,5,0,0,0-5,5V80a5,5,0,0,0,5,5H80a5,5,0,0,0,5-5V20A5,5,0,0,0,80,15ZM32.14,75H25V67.86h7.14Zm0-10.71H25V57.14h7.14Zm0-10.72H25V46.43h7.14Zm0-10.71H25V35.71h7.14Zm0-10.72H25V25h7.14ZM42.86,75H35.71V67.86h7.15Zm0-10.71H35.71V57.14h7.15Zm0-10.72H35.71V46.43h7.15Zm0-10.71H35.71V35.71h7.15Zm0-10.72H35.71V25h7.15ZM53.57,75H46.43V67.86h7.14Zm0-10.71H46.43V57.14h7.14Zm0-10.72H46.43V46.43h7.14Zm0-10.71H46.43V35.71h7.14Zm0-10.72H46.43V25h7.14ZM64.29,75H57.14V67.86h7.15Zm0-10.71H57.14V57.14h7.15Zm0-10.72H57.14V46.43h7.15Zm0-10.71H57.14V35.71h7.15Zm0-10.72H57.14V25h7.15ZM75,75H67.86V67.86H75Zm0-10.71H67.86V57.14H75Zm0-10.72H67.86V46.43H75Zm0-10.71H67.86V35.71H75Zm0-10.72H67.86V25H75Z" transform="translate(-15 -15)"/>
                                </svg>
                            </button>
                            <p>一般簽到</p>
                            <small>目前頁面</small>
                        </li>
                        <li class="page-button">
                            <button class="button" data-name="threed">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 70 70">
                                    <path d="M50,15h0A35,35,0,0,0,15,50h0A35,35,0,0,0,50,85h0A35,35,0,0,0,85,50h0A35,35,0,0,0,50,15ZM65.57,28.22l-6.23,3.62-6.25-3.61,6.22-3.62Zm-9.33,5.42L50,37.26l-6.25-3.61L50,30ZM49.92,19.19l6.26,3.61L50,26.42,43.7,22.8Zm-9.33,5.42,6.26,3.62-6.22,3.61-6.27-3.61Zm-11,44.51-6.25-3.61,0-7.19,6.25,3.61Zm0-10.78-6.25-3.61,0-7.2,6.25,3.61Zm0-10.79-6.25-3.62,0-7.19,6.25,3.62ZM25,33.64,31.26,30l6.26,3.62L31.3,37.26ZM39,74.55l-6.26-3.62,0-7.19L39,67.36Zm0-10.79-6.26-3.62,0-7.19L39,56.56ZM39,53l-6.27-3.62,0-7.19,6.27,3.62Zm-4.61-13.9,6.22-3.62,6.26,3.62-6.22,3.61ZM48.36,80,42.1,76.35l0-7.19,6.26,3.61Zm0-10.78-6.26-3.61,0-7.2L48.41,62Zm0-10.79-6.26-3.62,0-7.18,6.26,3.61Zm-4.6-13.9L50,40.87l6.27,3.62L50.08,48.1Zm7.74,6.71,6.26-3.61,0,7.18-6.26,3.62Zm0,10.78,6.26-3.61,0,7.2-6.26,3.61Zm0,18,0-7.19,6.26-3.61,0,7.19Zm1.5-40.89,6.22-3.62,6.27,3.62-6.22,3.61Zm7.8,6.71,6.27-3.62,0,7.19L61,53Zm0,10.78L67.24,53l0,7.19L61,63.76Zm.06,18,0-7.19,6.26-3.62,0,7.19Zm1.44-40.91L68.7,30,75,33.64l-6.22,3.62Zm7.87,6.72,6.25-3.62,0,7.19-6.25,3.62Zm0,10.78,6.25-3.61,0,7.2-6.25,3.61Zm0,18,0-7.19,6.25-3.61,0,7.19Z" transform="translate(-15 -15)"/>
                                </svg>
                            </button>
                            <p>3D簽到</p>
                            <small>目前頁面</small>
                        </li>
                        <li class="page-button">
                            <button class="button" data-name="signname">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1046.8 785.89"><g id="圖層_2" data-name="圖層 2"><g id="圖層_5" data-name="圖層 5"><rect class="cls-1" x="360.69" y="206.96" width="325.42" height="165.02" rx="22.81" ry="22.81"/><rect class="cls-1" x="721.37" y="206.96" width="325.42" height="165.02" rx="22.81" ry="22.81"/><rect class="cls-1" x="541.03" width="325.42" height="165.02" rx="22.81" ry="22.81"/><rect class="cls-1" x="541.03" y="413.92" width="325.42" height="165.02" rx="22.81" ry="22.81"/><path class="cls-1" d="M1046.8,0V165H920.9c-10.59,0-19.18-10.21-19.18-22.81V22.81C901.72,10.22,910.31,0,920.9,0Z"/><path class="cls-1" d="M1046.8,413.92v165H920.9c-10.59,0-19.18-10.21-19.18-22.81V436.73c0-12.6,8.59-22.81,19.18-22.81Z"/><rect class="cls-1" y="206.96" width="325.42" height="165.02" rx="22.81" ry="22.81"/><rect class="cls-1" x="360.69" y="620.87" width="325.42" height="165.02" rx="22.81" ry="22.81"/><rect class="cls-1" x="721.37" y="620.87" width="325.42" height="165.02" rx="22.81" ry="22.81"/><rect class="cls-1" y="620.87" width="325.42" height="165.02" rx="22.81" ry="22.81"/><rect class="cls-1" x="180.34" width="325.42" height="165.02" rx="22.81" ry="22.81"/><rect class="cls-1" x="180.34" y="413.92" width="325.42" height="165.02" rx="22.81" ry="22.81"/><path class="cls-1" d="M145.08,22.81v119.4c0,12.6-8.58,22.81-19.18,22.81H0V0H125.9C136.5,0,145.08,10.22,145.08,22.81Z"/><path class="cls-1" d="M145.08,436.73V556.12c0,12.6-8.58,22.81-19.18,22.81H0v-165H125.9C136.5,413.92,145.08,424.13,145.08,436.73Z"/></g></g></svg>
                            </button>
                            <p>簽名牆</p>
                            <small>目前頁面</small>
                        </li>
                    </ul>
                </li>
                <li>
                    <h6 class="page-type-tittle">幸運抽獎</h6>
                    <ul class="page-button-box">
                        <li class="page-button">
                            <button class="button" data-name="redpack">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 68.12 78.27">
                                    <path d="M55.77,58.84a1.41,1.41,0,0,0,.24-1,1.32,1.32,0,0,0-.46-.83,3.17,3.17,0,0,0-1.43-.54l.49,3.23A2.48,2.48,0,0,0,55.77,58.84Zm-4.94-8.21a1.19,1.19,0,0,0-.14.77,1.31,1.31,0,0,0,.37.74,1.94,1.94,0,0,0,1,.41L51.65,50A1.85,1.85,0,0,0,50.83,50.63ZM82.25,14.72l-1.58-2.26a3.72,3.72,0,0,0-3-1.59H48.5a3.7,3.7,0,0,0-3,1.59l-1.59,2.26a4.48,4.48,0,0,0-.8,2.55V19l-9.52,1.43a5.72,5.72,0,0,0-4.28,3.12L28,26a6.44,6.44,0,0,0-.6,3.84l.72,4.83L17.09,41.48a3.74,3.74,0,0,0-1.79,2.59L15,46.38a3.1,3.1,0,0,0,.42,2.12L35,80.31l.75,5a4.51,4.51,0,0,0,4.45,3.83,3.67,3.67,0,0,0,.66,0l34.62-5.19a4.51,4.51,0,0,0,3.78-5.12l-.44-2.9h1.73a2.51,2.51,0,0,0,2.5-2.5V17.27A4.41,4.41,0,0,0,82.25,14.72ZM75.19,81.91l-34.61,5.2A2.53,2.53,0,0,1,37.73,85L29.41,29.53a4.49,4.49,0,0,1,.41-2.65l1.23-2.46a3.72,3.72,0,0,1,2.79-2l28.79-4.32a3.72,3.72,0,0,1,3.26,1.12l1.9,2A4.45,4.45,0,0,1,69,23.59l8.33,55.48A2.5,2.5,0,0,1,75.19,81.91ZM39.37,56.44,55.46,68.33,67.34,52.25,51.26,40.36ZM52.58,46.15c.18.17.15,1,.15,1a6.26,6.26,0,0,1,3.61.55,4.17,4.17,0,0,1,1.53,1.48.74.74,0,0,1-.43,1.08L55.16,51a.74.74,0,0,1-.84-.3,2.23,2.23,0,0,0-.36-.44,2.53,2.53,0,0,0-.83-.44l.35,2.35a.76.76,0,0,0,.65.63,9.71,9.71,0,0,1,3.78,1,4,4,0,0,1,1.82,2.88,4.31,4.31,0,0,1-.18,2.09,5.2,5.2,0,0,1-1,1.72,5.08,5.08,0,0,1-1.48,1.13,6.62,6.62,0,0,1-1.41.5.76.76,0,0,0-.54.83l.08.48a.74.74,0,1,1-1.47.22l-.08-.51a.76.76,0,0,0-.76-.63,8.69,8.69,0,0,1-1.81-.14,4.87,4.87,0,0,1-1.73-.72A4.93,4.93,0,0,1,48.1,60.5a5.22,5.22,0,0,1-.47-.81.75.75,0,0,1,.47-1L50.65,58a.76.76,0,0,1,.87.42,3,3,0,0,0,.47.78,2.68,2.68,0,0,0,1.13.63l-.45-3a.74.74,0,0,0-.64-.63,16.77,16.77,0,0,1-2.47-.47,3.78,3.78,0,0,1-1.67-1.11,3.83,3.83,0,0,1-1-2.12,4.05,4.05,0,0,1,.8-3.19,5.73,5.73,0,0,1,3.53-1.89s-.3-.79-.15-1A1.44,1.44,0,0,1,52.58,46.15Z" transform="translate(-14.94 -10.87)"/>
                                </svg>
                            </button>
                            <p>搖紅包</p>
                            <small>目前頁面</small>
                        </li>
                        <li class="page-button">
                            <button class="button" data-name="ropepack">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 77.55 76.71">
                                    <path d="M68.84,53.72,53.74,42.91,42.93,58,58,68.82ZM57.64,64.31a.7.7,0,0,1-.58.79.69.69,0,0,1-.79-.57l-.07-.48a.71.71,0,0,0-.71-.58,7,7,0,0,1-1.68-.12A4.56,4.56,0,0,1,51,61.61a5.76,5.76,0,0,1-.43-.74.7.7,0,0,1,.43-1l2.36-.66a.7.7,0,0,1,.81.38,2.35,2.35,0,0,0,.45.72,2.28,2.28,0,0,0,1.05.58l-.44-2.78a.69.69,0,0,0-.6-.58,14.53,14.53,0,0,1-2.29-.42,3.65,3.65,0,0,1-1.56-1,3.51,3.51,0,0,1-.9-2,3.75,3.75,0,0,1,.72-3,5.34,5.34,0,0,1,3.27-1.78s-.28-.73-.14-.92a1.33,1.33,0,0,1,1.36-.22c.17.16.14.93.14.93a5.82,5.82,0,0,1,3.36.49A3.86,3.86,0,0,1,60.05,51a.68.68,0,0,1-.38,1l-2.11.69a.72.72,0,0,1-.79-.28,2.23,2.23,0,0,0-.34-.41,2.18,2.18,0,0,0-.77-.4L56,53.83a.71.71,0,0,0,.6.58,9.18,9.18,0,0,1,3.52.94A3.73,3.73,0,0,1,61.83,58,4.07,4.07,0,0,1,61.67,60a4.64,4.64,0,0,1-.94,1.6,4.77,4.77,0,0,1-1.37,1.07,6.72,6.72,0,0,1-1.3.47.67.67,0,0,0-.49.77ZM53.53,52.43a1.12,1.12,0,0,0-.13.72,1.18,1.18,0,0,0,.35.68,1.75,1.75,0,0,0,.91.38l-.37-2.4A1.85,1.85,0,0,0,53.53,52.43Zm35,.57C87.49,47.07,82.06,42.53,74,40.37l-.6-3.65a18.05,18.05,0,0,0,3.74-.67c4-1.2,6.77-3.67,7.74-7h0c1-3.29,0-6.85-2.73-10a21.86,21.86,0,0,0-10.4-6.4,21.86,21.86,0,0,0-12.21-.26c-4,1.2-6.76,3.67-7.73,7a8.81,8.81,0,0,0-.34,2.89L37,24.65a5.33,5.33,0,0,0-3.93,3L32,29.91a5.93,5.93,0,0,0-.51,3.57L32,36.56A24.78,24.78,0,0,0,22.58,36c-5,.73-8.67,3.17-10.38,6.88C9,49.89,14,59,23.78,64.07c0,.26,0,.52.09.77,1.11,6,6.62,10.47,14.47,12.61l.45.16L40,84.86a4.19,4.19,0,0,0,4.18,3.5,4.34,4.34,0,0,0,.62-.06L76.86,83a4.18,4.18,0,0,0,3.44-4.81l-1.25-7.54a11.66,11.66,0,0,0,1.29-1.36c.25-.19.51-.37.75-.57C86.9,63.93,89.56,58.36,88.57,53ZM56.62,20.76c.64-2.17,3-3.17,4.37-3.58a14.4,14.4,0,0,1,4-.53,19.29,19.29,0,0,1,5.39.8,17,17,0,0,1,8,4.86c.93,1.07,2.37,3.2,1.73,5.37h0c-.64,2.17-3,3.17-4.36,3.57a13.05,13.05,0,0,1-3.15.51l-.82-5a6,6,0,0,0-1.64-3.21l-1.79-1.83a5.34,5.34,0,0,0-3.88-1.59,4.22,4.22,0,0,0-.79.07l-7.16,1.19A3.68,3.68,0,0,1,56.62,20.76ZM24.36,58.65c-6.08-3.84-9.48-9.65-7.61-13.71,1-2.12,3.3-3.55,6.55-4a17.16,17.16,0,0,1,2.4-.17A22,22,0,0,1,32.88,42l.89,5.32C29,50.65,25.69,54.59,24.36,58.65Zm10.33-5.76,1.59,9.58a22.69,22.69,0,0,1-7.38-1.55C29.53,58.21,31.57,55.42,34.69,52.89ZM29.77,66.47a26.62,26.62,0,0,0,7.12,1h.22l.76,4.61C34.11,70.81,31.24,68.89,29.77,66.47Zm10.08,6.21L33.29,33.17a4.18,4.18,0,0,1,.35-2.46l1.11-2.31a3.43,3.43,0,0,1,2.55-1.92L64,22.05a3.43,3.43,0,0,1,3,1l1.8,1.83a4.17,4.17,0,0,1,1.12,2.22l6.49,39.07c-.36.45-4.49,5.22-17.88,7.38C48.6,75.38,42.07,73.5,39.85,72.68Zm36.71,8.46L44.5,86.47a2.33,2.33,0,0,1-2.67-1.91l-1.06-6.37a38.06,38.06,0,0,0,9.53,1.14,50.42,50.42,0,0,0,9.1-.86c9.49-1.53,15-4.32,18-6.5l1.08,6.5A2.33,2.33,0,0,1,76.56,81.14Zm1.51-16.43L74.94,45.87c4.86,1.75,8.09,4.59,8.72,8S82.3,61.18,78.07,64.71ZM58.16,60a1.33,1.33,0,0,0,.22-1,1.18,1.18,0,0,0-.44-.76,2.78,2.78,0,0,0-1.32-.5l.47,3A2.28,2.28,0,0,0,58.16,60Z" transform="translate(-11.23 -11.64)"/>
                                </svg>
                            </button>
                            <p>套紅包</p>
                            <small>目前頁面</small>
                        </li>
                        <li class="page-button">
                            <button class="button" data-name="draw_numbers">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16">
                                    <path d="M3 2.5a2.5 2.5 0 0 1 5 0 2.5 2.5 0 0 1 5 0v.006c0 .07 0 .27-.038.494H15a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h2.038A2.968 2.968 0 0 1 3 2.506V2.5zm1.068.5H7v-.5a1.5 1.5 0 1 0-3 0c0 .085.002.274.045.43a.522.522 0 0 0 .023.07zM9 3h2.932a.56.56 0 0 0 .023-.07c.043-.156.045-.345.045-.43a1.5 1.5 0 0 0-3 0V3zm6 4v7.5a1.5 1.5 0 0 1-1.5 1.5H9V7h6zM2.5 16A1.5 1.5 0 0 1 1 14.5V7h6v9H2.5z"/>
                                </svg>
                            </button>
                            <p>搖號抽獎</p>
                            <small>目前頁面</small>
                        </li>
                        <li class="page-button">
                            <button class="button" data-name="lottery">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 75 75">
                                    <path d="M45.41,45.41,50,50V43.5A6.45,6.45,0,0,0,45.41,45.41Zm9.18,0L50,50h6.5A6.45,6.45,0,0,0,54.59,45.41Zm-9.18,9.18L50,50H43.5A6.45,6.45,0,0,0,45.41,54.59ZM35.5,50a14.48,14.48,0,0,0,4.25,10.25l5-5A7.45,7.45,0,0,1,42.5,50Zm19.09,4.59L50,50v6.5A6.45,6.45,0,0,0,54.59,54.59ZM67.32,32.68A24.47,24.47,0,0,0,50,25.5v9A15.5,15.5,0,0,1,61,39ZM64.5,50h0a14.48,14.48,0,0,0-4.25-10.25l-5,5A7.45,7.45,0,0,1,57.5,50ZM50,57.5v7a14.48,14.48,0,0,0,10.25-4.25l-5-5A7.45,7.45,0,0,1,50,57.5ZM32.68,67.32A24.47,24.47,0,0,0,50,74.5v-9a15.42,15.42,0,0,1-11-4.55ZM50,12.5A37.5,37.5,0,1,0,87.5,50,37.5,37.5,0,0,0,50,12.5ZM74.75,74.75,68,68A25.39,25.39,0,0,1,50,75.5V85A34.89,34.89,0,0,1,25.25,74.75L32,68A25.39,25.39,0,0,1,24.5,50H15A34.89,34.89,0,0,1,25.25,25.25L32,32A25.39,25.39,0,0,1,50,24.5V15A34.89,34.89,0,0,1,74.75,25.25L68,32A25.39,25.39,0,0,1,75.5,50H85A34.91,34.91,0,0,1,74.75,74.75ZM61,61l6.37,6.37A24.47,24.47,0,0,0,74.5,50h-9A15.42,15.42,0,0,1,61,61ZM34.5,50A15.5,15.5,0,0,1,39,39l-6.36-6.36A24.45,24.45,0,0,0,25.5,50h9ZM50,42.5v-7a14.48,14.48,0,0,0-10.25,4.25l5,5A7.45,7.45,0,0,1,50,42.5Z" transform="translate(-12.5 -12.5)"/>
                                </svg>
                            </button>
                            <p>遊戲抽獎</p>
                            <small>目前頁面</small>
                        </li>
                        <li class="page-button">
                            <button class="button" data-name="bingo">
                                <svg viewBox="0 0 557 557" xmlns="http://www.w3.org/2000/svg">
                                    <g>
                                        <path d="M556.47,272.49c0,-6.623 -5.377,-12 -12,-12l-532.47,0c-6.623,0 -12,5.377 -12,12l0,11.49c0,6.623 5.377,12 12,12l532.47,0c6.623,0 12,-5.377 12,-12l0,-11.49Z"/>
                                        <g transform="matrix(-3.82857e-16,1,-1,-3.82857e-16,556.47,0)">
                                            <path d="M556.47,272.49c0,-6.623 -5.377,-12 -12,-12l-532.47,0c-6.623,0 -12,5.377 -12,12l0,11.49c0,6.623 5.377,12 12,12l532.47,0c6.623,0 12,-5.377 12,-12l0,-11.49Z"/>
                                        </g>
                                        <g transform="matrix(1,0,0,1,62.25,214.49)">
                                            <path d="M78.711,0l-27.441,0l0,-103.418c-10.027,9.375 -21.843,16.309 -35.45,20.801l0,-24.903c7.162,-2.343 14.942,-6.787 23.34,-13.33c8.399,-6.543 14.16,-14.176 17.285,-22.9l22.266,0l-0,143.75Z" style="fill-rule:nonzero;"/>
                                        </g>
                                        <g transform="matrix(1,0,0,1,363.73,494.97)">
                                            <path d="M101.172,-25.488l0,25.488l-96.192,0c1.042,-9.635 4.167,-18.766 9.375,-27.393c5.209,-8.626 15.495,-20.068 30.86,-34.326c12.37,-11.523 19.954,-19.336 22.754,-23.437c3.776,-5.664 5.664,-11.263 5.664,-16.797c0,-6.12 -1.644,-10.824 -4.932,-14.111c-3.288,-3.288 -7.829,-4.932 -13.623,-4.932c-5.729,0 -10.286,1.725 -13.672,5.176c-3.385,3.45 -5.338,9.179 -5.859,17.187l-27.344,-2.734c1.628,-15.104 6.738,-25.944 15.332,-32.52c8.594,-6.575 19.336,-9.863 32.227,-9.863c14.127,0 25.228,3.809 33.301,11.426c8.072,7.617 12.109,17.09 12.109,28.418c0,6.445 -1.156,12.581 -3.467,18.408c-2.311,5.827 -5.973,11.93 -10.986,18.311c-3.321,4.231 -9.31,10.319 -17.969,18.261c-8.659,7.943 -14.144,13.216 -16.455,15.821c-2.311,2.604 -4.183,5.143 -5.615,7.617l54.492,0Z" style="fill-rule:nonzero;"/>
                                        </g>
                                        <path d="M432.73,29c-55.133,0 -100.5,45.367 -100.5,100.5c0,55.133 45.367,100.5 100.5,100.5c55.133,0 100.5,-45.367 100.5,-100.5c0,-55.133 -45.367,-100.5 -100.5,-100.5Zm44.47,161.71l-44.47,-32.31l-44.47,32.31l17,-52.28l-44.47,-32.31l55,0l17,-52.28l17,52.28l55,0l-44.47,32.31l16.88,52.28Z" style="fill-rule:nonzero;"/>
                                        <path d="M125.24,326.48c-55.133,0 -100.5,45.367 -100.5,100.5c-0,55.133 45.367,100.5 100.5,100.5c55.125,0 100.489,-45.355 100.5,-100.48l0,-0.02c0,-55.133 -45.367,-100.5 -100.5,-100.5Zm44.47,161.71l-44.47,-32.31l-44.47,32.31l17,-52.28l-44.48,-32.31l55,0l17,-52.28l17,52.28l55,0l-44.47,32.31l16.89,52.28Z" style="fill-rule:nonzero;"/>
                                    </g>
                                </svg>
                            </button>
                            <p>賓果遊戲</p>
                            <small>目前頁面</small>
                        </li>
                    </ul>
                </li>
                <li>
                    <h6 class="page-type-tittle">團體競賽</h6>
                    <ul class="page-button-box">
                        <li class="page-button">
                            <button class="button" data-name="whack_mole">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 150 150">
                                    <path d="M89.12,1.49h12.89c2.26,0,4.1,1.84,4.1,4.1V60.66c0,2.26-1.84,4.1-4.1,4.1h-12.89c-2.26,0-4.1-1.84-4.1-4.1V5.59c0-2.26,1.84-4.1,4.1-4.1Z" transform="translate(4.57 77.28) rotate(-45)"/>
                                    <rect x="22.58" y="63.94" width="21.09" height="63.27" rx="4.1" ry="4.1" transform="translate(-57.87 51.41) rotate(-45)"/>
                                    <polygon points="87.65 75.53 102.56 60.62 68.07 26.14 26.14 68.07 60.62 102.56 75.53 87.65 84.23 96.34 96.34 84.23 87.65 75.53"/>
                                    <path d="M141.03,124.38l-40.03-35.5-12.12,12.12,35.5,40.03c4.51,5.08,12.36,5.32,17.16,.51h0c4.8-4.8,4.57-12.66-.51-17.16Z"/>
                                </svg>
                            </button>
                            <p>敲敲樂</p>
                            <small>目前頁面</small>
                        </li>
                        <li class="page-button">
                            <button class="button" data-name="QA">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 150 150">
                                    <path d="M71.42,72.35c2.08,1.49,4.27,2.78,6.58,3.88s3.1,3.7,1.97,5.86l-1.01,1.94c-1.06,2.04-3.54,2.86-5.63,1.91-.69-.31-1.37-.65-2.04-1.02-.42-.21-3.39-2.17-8.9-5.87-4.34,1.9-9.14,2.85-14.41,2.85-10.18,0-18.16-3-23.92-8.99-5.77-5.99-8.65-14.41-8.65-25.26s2.89-19.22,8.67-25.23c5.78-6.01,13.63-9.01,23.54-9.01s17.6,3,23.36,9.01c5.75,6.01,8.63,14.42,8.63,25.23,0,5.72-.8,10.75-2.39,15.09-1.2,3.31-3.13,6.52-5.78,9.62Zm-10.75-7.54c1.72-2.02,3-4.46,3.86-7.32s1.29-6.14,1.29-9.85c0-7.65-1.69-13.37-5.06-17.15-3.37-3.78-7.79-5.67-13.24-5.67s-9.87,1.9-13.26,5.69-5.08,9.5-5.08,17.12,1.69,13.53,5.08,17.37,7.67,5.76,12.85,5.76c1.93,0,3.75-.32,5.47-.95-1.41-.92-2.83-1.74-4.27-2.46-2.14-1.06-3.06-3.62-2-5.76h0c1.03-2.09,3.54-2.98,5.66-2.01,3,1.37,5.9,3.11,8.7,5.22Z"/>
                                    <path d="M125.86,136.78h-.35c-2.71,0-5.15-1.67-6.12-4.2l-4.17-10.84h-26.48l-3.9,10.73c-.94,2.59-3.41,4.32-6.16,4.32h0c-4.61,0-7.79-4.64-6.11-8.94l20.69-53.12c.98-2.52,3.41-4.18,6.11-4.18h5.22c2.68,0,5.09,1.63,6.09,4.12l21.27,53.12c1.72,4.31-1.45,9-6.09,9Zm-14.93-26.2l-9.13-24.58-8.95,24.58h18.07Z"/>
                                </svg>
                            </button>
                            <p>快問快答</p>
                            <small>目前頁面</small>
                        </li>
                        <li class="page-button">
                            <button class="button" data-name="monopoly">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 150 150">
                                    <path d="M110,71c-3.87,0-7,3.13-7,7s3.13,7,7,7,7-3.13,7-7-3.13-7-7-7Zm30.36-30.5H9.64c-2.56,0-4.64,2.08-4.64,4.64V110.86c0,2.56,2.08,4.64,4.64,4.64H140.36c2.56,0,4.64-2.08,4.64-4.64V45.14c0-2.56-2.08-4.64-4.64-4.64Zm-.36,54c-8.84,0-16,7.16-16,16H26c0-8.84-7.16-16-16-16V61.5c8.84,0,16-7.16,16-16H124c0,8.84,7.16,16,16,16v33Zm-100-23.5c-3.87,0-7,3.13-7,7s3.13,7,7,7,7-3.13,7-7-3.13-7-7-7Zm35-15c-12.15,0-22,9.85-22,22s9.85,22,22,22,22-9.85,22-22-9.85-22-22-22Zm-1.15,18.83c.41,.43,1.08,.84,1.99,1.22,.92,.39,1.78,.79,2.59,1.21,.81,.42,1.51,.89,2.1,1.42,.59,.53,1.05,1.15,1.39,1.86,.33,.71,.5,1.56,.5,2.55,0,1.68-.53,3.06-1.6,4.12-.88,.88-2.03,1.45-3.44,1.73-.54,.11-.93,.59-.93,1.14v.79c0,.65-.53,1.17-1.17,1.17h0c-.65,0-1.17-.53-1.17-1.17v-.8c0-.55-.39-1.04-.93-1.14-1.7-.32-3.03-1.01-4.01-2.07-.89-.97-1.43-2.17-1.63-3.61-.1-.69,.47-1.31,1.17-1.31h2.64c.59,0,1.06,.44,1.16,1.03,.11,.63,.33,1.14,.66,1.53,.5,.59,1.2,.88,2.12,.88,.67,0,1.2-.2,1.58-.6s.58-.95,.58-1.65c0-.78-.19-1.39-.58-1.83-.38-.44-1.06-.86-2.02-1.25s-1.86-.79-2.67-1.2-1.52-.87-2.11-1.4c-.59-.53-1.04-1.15-1.36-1.85-.32-.7-.47-1.54-.47-2.54,0-1.66,.56-3.03,1.68-4.11,.93-.89,2.12-1.48,3.56-1.75,.54-.1,.93-.59,.93-1.14v-.93c0-.65,.53-1.17,1.17-1.17s1.17,.53,1.17,1.17v1.04c0,.52,.35,1,.85,1.12,1.4,.35,2.53,1.04,3.39,2.05,.77,.92,1.26,2.02,1.45,3.3,.1,.7-.46,1.33-1.17,1.33h-2.64c-.59,0-1.06-.44-1.16-1.02-.09-.54-.26-.99-.51-1.34-.39-.55-.96-.83-1.68-.83-.65,0-1.15,.2-1.51,.61-.36,.41-.54,.97-.54,1.69s.21,1.31,.62,1.74Z"/>
                                </svg>
                            </button>
                            <p>鑑定師</p>
                            <small>目前頁面</small>
                        </li>
                        <li class="page-button">
                            <button class="button" data-name="tugofwar">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 150 150">
                                <path d="M75.1,138.7c-4,0-7.9,0-11.9,0c-8.3-2.4-15.6-6.2-20.4-13.8c-0.6-0.9-2.2-1.3-3.4-1.6
                                    c-15.8-4.3-24.9-18.2-22.7-34.2c0.2-1.6-0.1-3.6-0.9-4.9c-8.1-13.8-4.9-30.4,7.9-40.3c1.4-1.1,2.5-2.9,3-4.7
                                    C31.1,23.8,45,14.6,60.7,16.6c1.9,0.2,4.2-0.3,5.8-1.2c12.9-7.6,30.1-4.2,39.3,7.6c1.4,1.8,3.6,3.2,5.8,3.9c13,3.8,23,15.7,21.8,29
                                    c-0.6,7.6,2.6,13.1,5.3,19.3c0,4,0,7.9,0,11.9c-2.3,7.3-5.4,14-11.8,18.9c-1.8,1.3-3.2,3.6-3.8,5.8c-3.6,12.7-15.7,22.8-28.8,21.7
                                    C86.7,132.7,81.2,135.8,75.1,138.7z M99.6,58.5c-9.1-0.5-15-4.8-18.9-12.4C74.1,52,66.8,53,58.5,50.4c-0.4,9-4.7,15.1-12.4,19.1
                                    c6.2,6.6,6.9,13.9,4.3,22.2c9.1,0.4,15.2,4.3,18.5,11.7c4-1.8,7.3-4,10.9-4.8c3.7-0.8,7.7-0.2,11.9-0.2c0.3-8.1,4.8-13.9,12.4-17.7
                                    C98.1,74,96.9,66.9,99.6,58.5z M90.3,107.7c-6.3-1.8-11.4-0.5-16.3,2.8c-6.5,4.4-13.1,8.6-19.6,12.9c3.2,4.6,10.7,7.6,17.3,6
                                    C82.8,126.7,86.4,117.5,90.3,107.7z M26.4,54.1c-5.2,4.5-7.4,10.9-5.6,18.1c2.7,10.9,11.9,14.4,21.4,18c2.2-5.9,0.8-10.8-2.2-15.4
                                    C35.6,67.9,31.1,61.1,26.4,54.1z M108.4,60c-0.7,0.3-1.4,0.6-2.1,0.9c0.8,4,0.7,8.6,2.6,12c4.4,8,9.7,15.4,14.7,23.2
                                    c5.1-5.1,7.6-11.5,5.4-19C126,66.8,117.1,63.5,108.4,60z M59.9,42.2c5.9,2,10.6,0.9,15.1-2c7-4.5,13.9-9.1,20.9-13.7
                                    c-2.2-4.7-12.5-7.5-18.5-5.6C66.9,24.1,63.4,32.9,59.9,42.2z M40.9,62.1c0.6,0.3,1.3,0.6,1.9,0.8c2.4-3.6,5.8-6.9,7-10.8
                                    c2.5-8.6,3.8-17.5,5.7-26.5c-7.4,0-13.5,3.1-17.2,9.8C33.2,44.8,37,53.5,40.9,62.1z M123.9,55.4c1-6-2.7-13.2-9-17.1
                                    c-6.8-4.1-19.2-2.6-27.2,3.4c2.4,4.6,6.3,7.5,11.3,8.6C107.3,52.2,115.7,53.7,123.9,55.4z M108.3,87.8c-4.6,2.2-7.3,6.2-8.4,11
                                    c-2,8.4-3.5,16.9-5.2,25.3c6.5,0.8,13.8-3,17.4-9.6C115.8,107.4,114.1,94.9,108.3,87.8z M62.2,109.1c0.2-0.7,0.5-1.5,0.7-2.2
                                    c-3.9-2.4-7.6-5.7-11.9-7c-8.2-2.4-16.8-3.7-25.4-5.4c-0.1,7.4,3.1,13.7,10,17.3C45,116.9,53.7,113,62.2,109.1z"/>
                                </svg>
                            </button>
                            <p>拔河遊戲</p>
                            <small>目前頁面</small>
                        </li>
                    </ul>
                </li>
            </ul>
        </div>
        <div id="page-control" class="page close">
            <ul></ul>
        </div>
        <div id="page-setting" class="page close">
            <div id="light-toggle-button">
                <label for="light-mode">
                    <svg class="moon-icon rise" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-moon" viewBox="0 0 16 16">
                        <path d="M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278zM4.858 1.311A7.269 7.269 0 0 0 1.025 7.71c0 4.02 3.279 7.276 7.319 7.276a7.316 7.316 0 0 0 5.205-2.162c-.337.042-.68.063-1.029.063-4.61 0-8.343-3.714-8.343-8.29 0-1.167.242-2.278.681-3.286z"/>
                    </svg>
                    <svg class="sun-icon down" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-brightness-high" viewBox="0 0 16 16">
                        <path d="M8 11a3 3 0 1 1 0-6 3 3 0 0 1 0 6zm0 1a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z"/>
                    </svg>
                </label>
                <input id="light-mode" type="checkbox">
            </div>
            <ul>
                <li class="setting-button open" data-name="setting-qrcode">
                    <button class="button">
                        <div class="icon">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-qr-code" viewBox="0 0 16 16">
                                <path d="M2 2h2v2H2V2Z"/>
                                <path d="M6 0v6H0V0h6ZM5 1H1v4h4V1ZM4 12H2v2h2v-2Z"/>
                                <path d="M6 10v6H0v-6h6Zm-5 1v4h4v-4H1Zm11-9h2v2h-2V2Z"/>
                                <path d="M10 0v6h6V0h-6Zm5 1v4h-4V1h4ZM8 1V0h1v2H8v2H7V1h1Zm0 5V4h1v2H8ZM6 8V7h1V6h1v2h1V7h5v1h-4v1H7V8H6Zm0 0v1H2V8H1v1H0V7h3v1h3Zm10 1h-1V7h1v2Zm-1 0h-1v2h2v-1h-1V9Zm-4 0h2v1h-1v1h-1V9Zm2 3v-1h-1v1h-1v1H9v1h3v-2h1Zm0 0h3v1h-2v1h-1v-2Zm-4-1v1h1v-2H7v1h2Z"/>
                                <path d="M7 12h1v3h4v1H7v-4Zm9 2v2h-3v-1h2v-1h1Z"/>
                            </svg>
                        </div>
                        <div class="ban-icon">
                            <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 16 16">
                                <path d="M8,0C3.59,0,0,3.59,0,8s3.59,8,8,8,8-3.59,8-8S12.41,0,8,0Zm0,15c-3.87,0-7-3.13-7-7,0-1.75,.65-3.35,1.71-4.58L12.58,13.29c-1.23,1.06-2.83,1.71-4.58,1.71Zm5.29-2.42L3.42,2.71c1.23-1.06,2.83-1.71,4.58-1.71,3.87,0,7,3.13,7,7,0,1.75-.65,3.35-1.71,4.58Z"/>
                            </svg>
                        </div>
                        <span>QRCode<strong>已開啟</strong></span>
                    </button>
                </li>
                <!-- <li class="setting-button open" data-name="setting-music">
                    <button class="button">
                        <div class="icon">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-volume-up-fill" viewBox="0 0 16 16">
                                <path d="M11.536 14.01A8.473 8.473 0 0 0 14.026 8a8.473 8.473 0 0 0-2.49-6.01l-.708.707A7.476 7.476 0 0 1 13.025 8c0 2.071-.84 3.946-2.197 5.303l.708.707z"/>
                                <path d="M10.121 12.596A6.48 6.48 0 0 0 12.025 8a6.48 6.48 0 0 0-1.904-4.596l-.707.707A5.483 5.483 0 0 1 11.025 8a5.483 5.483 0 0 1-1.61 3.89l.706.706z"/>
                                <path d="M8.707 11.182A4.486 4.486 0 0 0 10.025 8a4.486 4.486 0 0 0-1.318-3.182L8 5.525A3.489 3.489 0 0 1 9.025 8 3.49 3.49 0 0 1 8 10.475l.707.707zM6.717 3.55A.5.5 0 0 1 7 4v8a.5.5 0 0 1-.812.39L3.825 10.5H1.5A.5.5 0 0 1 1 10V6a.5.5 0 0 1 .5-.5h2.325l2.363-1.89a.5.5 0 0 1 .529-.06z"/>
                            </svg>
                        </div>
                        <div class="ban-icon">
                            <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 16 16">
                                <path d="M8,0C3.59,0,0,3.59,0,8s3.59,8,8,8,8-3.59,8-8S12.41,0,8,0Zm0,15c-3.87,0-7-3.13-7-7,0-1.75,.65-3.35,1.71-4.58L12.58,13.29c-1.23,1.06-2.83,1.71-4.58,1.71Zm5.29-2.42L3.42,2.71c1.23-1.06,2.83-1.71,4.58-1.71,3.87,0,7,3.13,7,7,0,1.75-.65,3.35-1.71,4.58Z"/>
                            </svg>
                        </div>
                        <span>背景音樂<strong>已開啟</strong></span>
                    </button>
                </li> -->
                <!-- <li class="setting-button open" data-name="setting-screen">
                    <button class="button">
                        <div class="icon">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrows-fullscreen" viewBox="0 0 16 16">
                                <path fill-rule="evenodd" d="M5.828 10.172a.5.5 0 0 0-.707 0l-4.096 4.096V11.5a.5.5 0 0 0-1 0v3.975a.5.5 0 0 0 .5.5H4.5a.5.5 0 0 0 0-1H1.732l4.096-4.096a.5.5 0 0 0 0-.707zm4.344 0a.5.5 0 0 1 .707 0l4.096 4.096V11.5a.5.5 0 1 1 1 0v3.975a.5.5 0 0 1-.5.5H11.5a.5.5 0 0 1 0-1h2.768l-4.096-4.096a.5.5 0 0 1 0-.707zm0-4.344a.5.5 0 0 0 .707 0l4.096-4.096V4.5a.5.5 0 1 0 1 0V.525a.5.5 0 0 0-.5-.5H11.5a.5.5 0 0 0 0 1h2.768l-4.096 4.096a.5.5 0 0 0 0 .707zm-4.344 0a.5.5 0 0 1-.707 0L1.025 1.732V4.5a.5.5 0 0 1-1 0V.525a.5.5 0 0 1 .5-.5H4.5a.5.5 0 0 1 0 1H1.732l4.096 4.096a.5.5 0 0 1 0 .707z"/>
                            </svg>
                        </div>
                        <div class="ban-icon">
                            <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 16 16">
                                <path d="M8,0C3.59,0,0,3.59,0,8s3.59,8,8,8,8-3.59,8-8S12.41,0,8,0Zm0,15c-3.87,0-7-3.13-7-7,0-1.75,.65-3.35,1.71-4.58L12.58,13.29c-1.23,1.06-2.83,1.71-4.58,1.71Zm5.29-2.42L3.42,2.71c1.23-1.06,2.83-1.71,4.58-1.71,3.87,0,7,3.13,7,7,0,1.75-.65,3.35-1.71,4.58Z"/>
                            </svg>
                        </div>
                        <span>全螢幕<strong>已開啟</strong></span>
                    </button>
                </li> -->
                <li class="setting-button open" data-name="setting-danmu">
                    <button class="button">
                        <div class="icon">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                                <path d="M5.25,11.54c-.28-.01-.44-.11-.5-.31-.09-.29,.07-.43,.49-.4h.25c.12,0,.22-.03,.28-.1,.12-.13,.22-.75,.28-1.87,0-.14,0-.24-.03-.29-.03-.05-.08-.07-.14-.07h-.83v.03c-.03,.22-.16,.32-.38,.28-.11-.02-.19-.05-.23-.1-.05-.05-.06-.13-.05-.23,.06-.5,.12-1.08,.18-1.72,.01-.15,.07-.27,.16-.36,.1-.09,.22-.14,.37-.14h.75c.13,0,.19-.06,.19-.19v-.69c0-.13-.06-.19-.19-.19h-1.05c-.22,0-.33-.11-.33-.34s.11-.33,.33-.33h1.43c.16,0,.28,.05,.38,.14s.14,.22,.14,.38v1.37c0,.16-.05,.28-.14,.38s-.22,.14-.38,.14h-1.04c-.01,.21-.04,.52-.08,.91h1.12c.18,0,.31,.07,.39,.2,.09,.16,.13,.42,.1,.79-.04,.79-.09,1.36-.14,1.7-.05,.35-.13,.58-.23,.7-.12,.16-.31,.25-.55,.27-.09,.02-.27,.02-.55,.02Zm3.95,0c-.24,0-.35-.12-.35-.35v-.78h-1.69c-.2,0-.31-.1-.31-.31s.1-.3,.31-.3h1.69v-.5h-1.11c-.16,0-.28-.05-.38-.14-.1-.1-.14-.22-.14-.38v-1.68c0-.16,.05-.28,.14-.38s.22-.14,.38-.14h2.99c.15,0,.28,.05,.38,.14,.1,.1,.14,.22,.14,.38v1.68c0,.16-.05,.28-.14,.38-.1,.1-.22,.14-.38,.14h-1.18v.5h1.75c.2,0,.3,.1,.3,.3s-.1,.31-.3,.31h-1.75v.78c0,.24-.12,.35-.35,.35Zm-1.59-5.37c-.16,0-.28-.05-.38-.14-.1-.1-.14-.22-.14-.38v-.67c0-.16,.05-.28,.14-.38,.1-.1,.22-.14,.38-.14h.95c.14,0,.25,.04,.33,.12,.08,.08,.12,.19,.12,.33v.73c0,.16-.05,.28-.15,.38-.1,.1-.22,.14-.38,.14h-.88Zm.26-.5h.38c.1,0,.15-.05,.15-.15v-.36c0-.13-.06-.19-.19-.19h-.34c-.13,0-.19,.06-.19,.19v.32c0,.13,.06,.19,.19,.19Zm0,1.99h.98v-.54h-.79c-.13,0-.19,.06-.19,.19v.35Zm.19,1.07h.79v-.54h-.98v.35c0,.13,.06,.19,.19,.19Zm1.85-2.56c-.16,0-.28-.05-.38-.14-.1-.1-.14-.22-.14-.38v-.67c0-.16,.05-.28,.14-.38,.1-.1,.22-.14,.38-.14h1c.14,0,.26,.04,.35,.13s.13,.2,.13,.35v.71c0,.16-.05,.28-.14,.38-.1,.1-.22,.14-.38,.14h-.95Zm-.35,1.49h1.02v-.35c0-.13-.06-.19-.19-.19h-.83v.54Zm0,1.07h.83c.13,0,.19-.06,.19-.19v-.35h-1.02v.54Zm.63-3.06h.4c.11,0,.16-.05,.16-.16v-.35c0-.13-.06-.19-.19-.19h-.37c-.13,0-.19,.06-.19,.19v.32c0,.13,.06,.19,.19,.19Z"/>
                                <path d="M8,15c-3.86,0-7-3.14-7-7S4.14,1,8,1s7,3.14,7,7-3.14,7-7,7Zm0-12.19c-2.86,0-5.19,2.33-5.19,5.19s2.33,5.19,5.19,5.19,5.19-2.33,5.19-5.19-2.33-5.19-5.19-5.19Z"/>
                            </svg>
                        </div>
                        <div class="ban-icon">
                            <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 16 16">
                                <path d="M8,0C3.59,0,0,3.59,0,8s3.59,8,8,8,8-3.59,8-8S12.41,0,8,0Zm0,15c-3.87,0-7-3.13-7-7,0-1.75,.65-3.35,1.71-4.58L12.58,13.29c-1.23,1.06-2.83,1.71-4.58,1.71Zm5.29-2.42L3.42,2.71c1.23-1.06,2.83-1.71,4.58-1.71,3.87,0,7,3.13,7,7,0,1.75-.65,3.35-1.71,4.58Z"/>
                            </svg>
                        </div>
                        <span>所有彈幕<strong>已顯示</strong></span>
                    </button>
                </li>
            </ul>
        </div>
    </div>
    <div class="container-select-bar">
        <ul>
            <li class="menu-button focus" data-name="page-select">
                <button class="button">頁面選擇</button>
            </li>
            <li class="menu-button" data-name="page-control">
                <button id="page-control-button" class="button"></button>
            </li>
            <li class="menu-button" data-name="page-setting">
                <button class="button">畫面設定</button>
            </li>
        </ul>
    </div>
</body>
<script>

    $(".menu-button").bind("click", function(){
        const page = $(this).data("name")
        $(".menu-button").removeClass("focus")
        $(this).addClass("focus")

        $(".page").addClass("close")
        $("#"+ page).removeClass("close")
    })
    
    $(".setting-button").bind("click", function(){
        const name = $(this).data("name").replace("-close", "").replace("-open", "")
        if($(this).hasClass("open")){
            $(this).removeClass("open").data("name", name +"-close")
            if($(this).data("name") === "danmu"){
                $(this).find("strong").text("已隱藏")
            }else{
                $(this).find("strong").text("已關閉")
            }
        }else{
            $(this).addClass("open").data("name", name +"-open")
            if($(this).data("name") === "danmu"){
                $(this).find("strong").text("已顯示")
            }else{
                $(this).find("strong").text("已開啟")
            }
        }
    })

    $("#light-toggle-button").bind("click", function(){
        if($("#light-mode").prop("checked") === true){
            $("body").addClass("light")
            $(".moon-icon").removeClass("rise").addClass("down")
            $(".sun-icon").removeClass("down").addClass("rise")
        }else{
            $("body").removeClass("light")
            $(".moon-icon").removeClass("down").addClass("rise")
            $(".sun-icon").removeClass("rise").addClass("down")
        }
    })

</script>
<script>

    const buttonData = [
        { name: "message", page: "訊息區", status: "open", controls: 
            [
                {action: "first-page", name: "最前頁"}, 
                {action: "prev-page", name: "上一頁"}, 
                {action: "play", name: "播放"}, 
                {action: "stop", name: "暫停"}, 
                {action: "next-page", name: "下一頁"}, 
                {action: "last-page", name: "最後頁"}
            ] 
        },
        { name: "topic", page: "主題區", status: "", controls: [] },
        { name: "question", page: "提問區", status: "", controls: 
            [
                {action: "view-all", name: "查看全部"}, 
                {action: "view-like", name: "顯示已回答問題"}, 
                {action: "view-unlike", name: "顯示未回答問題"}
            ] 
        },
        { name: "general", page: "一般簽到", status: "", controls: [] },
        { name: "threed", page: "3D簽到", status: "", controls: [] },
        { name: "signname", page: "簽名牆", status: "", controls: [] },
        { name: "redpack", page: "搖紅包", status: "", controls: 
            [
                {action: "select-scene", name: "選擇場次"}, 
                {action: "start", name: "遊戲開始"}, 
                {action: "end", name: "結束遊戲"}, 
                {action: "again", name: "再來一輪"}
            ] 
        },
        { name: "ropepack", page: "套紅包", status: "", controls: 
            [
                {action: "select-scene", name: "選擇場次"}, 
                {action: "start", name: "遊戲開始"}, 
                {action: "end", name: "結束遊戲"}, 
                {action: "again", name: "再來一輪"}
            ] 
        },
        { name: "draw_numbers", page: "搖號抽獎", status: "", controls: 
            [
                {action: "select-scene", name: "選擇場次"}, 
                {action: "preprize", name: "選擇左邊獎品"}, 
                {action: "nextprize", name: "選擇右邊獎品"}, 
                {action: "reducepeople", name: "減少抽獎人數"}, 
                {action: "addpeople", name: "增加抽獎人數"}, 
                {action: "go", name: "開始抽獎"}, 
                {action: "showwinner", name: "公佈名單"}, 
                {action: "closeprize", name: "關閉得獎視窗"}
            ] 
        },
        { name: "lottery", page: "遊戲抽獎", status: "", controls: 
            [
                {action: "select-scene", name: "選擇場次"}, 
                {action: "order", name: "順序參與"}, 
                {action: "simultaneous", name: "同時參與"},
                {action: "go", name: "開始抽獎"}, 
                {action: "closeprize", name: "關閉得獎視窗"}
            ] 
        },
        { name: "bingo", page: "賓果遊戲", status: "", controls: 
            [
                {action: "select-scene", name: "選擇場次"}, 
                {action: "start", name: "遊戲開始"}, 
                {action: "picknumber", name: "隨機抽號"}, 
                {action: "openGoingBingoList", name: "開啟即將賓果列表"}, 
                {action: "closeGoingBingoList", name: "關閉即將賓果列表"}, 
                {action: "closeBingoList", name: "關閉賓果名單"}, 
                {action: "calculate", name: "結束遊戲"}, 
                {action: "again", name: "再來一輪"}
            ] 
        },
        { name: "whack_mole", page: "敲敲樂", status: "", controls: 
            [
                {action: "select-scene", name: "選擇場次"}, 
                {action: "start", name: "遊戲開始"}, 
                {action: "calculate", name: "結束遊戲"}, 
                {action: "again", name: "再來一輪"}
            ] 
        },
        { name: "monopoly", page: "鑑定師", status: "", controls: 
            [
                {action: "select-scene", name: "選擇場次"}, 
                {action: "start", name: "遊戲開始"}, 
                {action: "calculate", name: "結束遊戲"}, 
                {action: "again", name: "再來一輪"}
            ] 
        },
        { name: "QA", page: "快問快答", status: "", controls: 
            [
                {action: "select-scene", name: "選擇場次"}, 
                {action: "start", name: "遊戲開始"}, 
                {action: "stop", name: "暫停倒數"}, 
                {action: "keep", name: "繼續倒數"}, 
                {action: "answer", name: "開始作答"}, 
                {action: "result", name: "答案揭曉"}, 
                {action: "next", name: "下一題"}, 
                {action: "calculate", name: "結算"}, 
                {action: "again", name: "再來一輪"}
            ] 
        },
        { name: "tugofwar", page: "拔河遊戲", status: "", controls: 
            [
                {action: "select-scene", name: "選擇場次"}, 
                {action: "start", name: "遊戲開始"}, 
                {action: "adjust", name: "人數調整"}, 
                {action: "calculate", name: "結束遊戲"}, 
                {action: "again", name: "再來一輪"}
            ] 
        },
    ]

    //傳遞操作次數
    let clickCount = 0
    //訊息區目前動作
    let nowMessageBtn = "play"
    //目前所在頁面
    let gamePage

    let gameID = ""

    let gameSceneArray = []

    //連接活動資料，並先關閉頁面選擇按鈕
    const activityAPI = "https://"+ getAPIDomainFromURL() +"/v1/activity?activity_id="+ getKeyFromURL("activity_id")

    fetch(activityAPI).then(function(res){
        return res.json()
    }).then(function(res){
        pageButtonsStatus(res.data)
    }).then(function(){
        loadPageButtons()
    }).then(function(){
        pageButtonControl()
        changeControlButton()
    })

    // 判斷目前已開啟的活動頁面，並動態顯示目前活動頁面的選項
    let ws_session
    let ws_session_reconnect = false
    let controlSockets_page = []
    webSocket_session()

    function reconnectWebsocket_session(){
        if(ws_session_reconnect){ return }
        ws_session_reconnect = true
        setTimeout(function(){
            websocketHeartbeat_session()
            ws_session_reconnect = false
        }, 2000)
    }

    function websocketHeartbeat_session(){
        try{
            if("WebSocket" in window){
                webSocket_session()
            }else{
                alert("很抱歉，您的裝置無法支援WebSocket相關功能。")
            }
        }catch(e){
            reconnectWebsocket_session()
            alert("控制連線發生異常，請重新整理網頁，如無法排除問題，請聯絡技術專員。")
            console.log(e)
        }
    }

    function webSocket_session(){
        const url = "wss://"+ getAPIDomainFromURL() +"/ws/v1/host/control/session?activity_id="+ getKeyFromURL("activity_id")
        
        ws_session = new WebSocket(url)

        ws_session.onopen = function(){
            console.log("ws_session開啟")
        }

        ws_session.onerror = function(error){
            alert("ws_session錯誤，代碼: " + error.code, error.reason)
        }

        ws_session.onclose = function(error){
            console.log("ws_session關閉，代碼: " + error.code, error.reason)

            if(error.code !== 1000){
                alert("ws_session重新啟動中...")
                reconnectConctrolWebsocket()
            }else{
                console.log("ws_session已正常關閉")
            }
        }

        ws_session.onmessage = function(e){
            const data = JSON.parse(e.data)
            activePageOptions(data)
            loadPageButtons()
        }
    }

    function activePageOptions(data){
        $(data).each(function(i){
            const template = "<option></option>"
            const option = $(template)
            option.text(data[i].session_id).val(data[i].session_id)
            if($("#control-page-select").find("option[value=" + data[i].session_id + "]").length == 0){
                $("#control-page-select").append(option)
            }
        }).promise().done(function(){
            removeUnmatchedOptions(data)
        })
    }

    function removeUnmatchedOptions(data){
        const options = $("#control-page-select").find("option")
        if(options.length > data.length){
            options.each(function(){
                if(!isOptionMatched($(this), data) && $(this).text() !== "請選擇活動頁面"){
                    $(this).remove()
                    let index = controlSockets_page.findIndex(obj => obj.url.includes($(this).val()))
                    if(index !== -1){
                        controlSockets_page[index].close(1000)
                        controlSockets_page.splice(index, 1)
                    }
                }
            })
        }
    }

    function isOptionMatched(option, data){
        for(let i = 0; i < data.length; i++){
            if(option.val() == data[i].session_id || option.text() == "請選擇活動頁面"){
                return true
            }
        }
        return false
    }


    //判斷目前所選擇的ws連線
    let controlSockets_btn = []

    function createWebSocket_control(session){
        let ws_control
        let ws_control_reconnect = false
        webSocket_control(session)

        function reconnectWebsocket_control(){
            if(ws_control_reconnect){ return }
            ws_control_reconnect = true
            setTimeout(function(){
                websocketHeartbeat_control()
                ws_control_reconnect = false
            }, 2000)
        }

        function websocketHeartbeat_control(){
            try{
                if("WebSocket" in window){
                    webSocket_control()
                }else{
                    alert("很抱歉，您的裝置無法支援WebSocket相關功能。")
                }
            }catch(e){
                reconnectWebsocket_control()
                alert("控制連線發生異常，請重新整理網頁，如無法排除問題，請聯絡技術專員。")
                console.log(e)
            }
        }

        function webSocket_control(session){
            const url = "wss://"+ getAPIDomainFromURL() +"/ws/v1/host/control?activity_id="+ getKeyFromURL("activity_id") + "&device=mobile&session_id="+ session
            
            ws_control = new WebSocket(url)

            if(!isSocketExists(url)){
                controlSockets_page.push(ws_control)
            }
            controlSockets_btn.push(ws_control)

            ws_control.onopen = function(){
                console.log("ws_control開啟")
                sendSettingData()
                const objectJSON = { page: gamePage, action: "" }
                ws_control.send(JSON.stringify(objectJSON))
            }

            ws_control.onerror = function(error){
                alert("ws_control錯誤，代碼: " + error.code, error.reason)
            }

            ws_control.onclose = function(error){
                console.log("ws_control關閉，代碼: " + error.code, error.reason)

                if(error.code !== 1000){
                    alert("ws_control重新啟動中...")
                    reconnectWebsocket_control()
                }else{
                    console.log("ws_control已正常關閉")
                }
            }

            ws_control.onmessage = function(e){
                const data = JSON.parse(e.data)
                console.log(data)
                
                $("#page-control").attr("data-game-id", data.Game.game_id)

                let newPage = data.page
                //沒有換頁
                if(gamePage === newPage || newPage === ""){
                    if(data.Game.game_status !== ""){
                        const status = data.Game.game_status
                        changeControlButton(gamePage, status)
                        $("select").val(data.Game.game_id)
                    }
                //有換頁動作
                }else{
                    gamePage = newPage
                    $(buttonData).each(function(i){
                        if(data.page === buttonData[i].name){
                            $("#page-control-button").text(buttonData[i].page)
                            const buttons = buttonData[i].controls
                            $("#page-control").find("ul").empty()
                            $(buttons).each(function(i){
                                if(data.page === "message" || data.page === "question"){
                                    const button = `
                                        <li class="control-button" data-name="${buttons[i].action}">
                                            <button class="button">${buttons[i].name}</button>
                                        </li>
                                    `
                                    $("#page-control").find("ul").append(button)
                                }else{
                                    if(buttons[i].action === "select-scene"){
                                        const button = `
                                            <li class="select-button" data-name="${buttons[i].action}">
                                                <p style="margin: 0.5rem; color: #9a9a9a;">目前遊戲場次</p>
                                                <select class="select-scene">
                                                    <option rel="ready" selected>請選擇遊戲場次</option>
                                                </select>
                                            </li>
                                        `
                                        $("#page-control").find("ul").append(button)
                                    }else if(buttons[i].action === "preprize" || buttons[i].action === "nextprize" || buttons[i].action === "reducepeople" || buttons[i].action === "addpeople"){
                                        const button = `
                                            <li class="control-button" data-name="${buttons[i].action}">
                                                <button class="button">${buttons[i].name}</button>
                                            </li>
                                        `
                                        $("#page-control").find("ul").append(button)
                                    }else{
                                        const button = `
                                            <li class="control-button d-none" data-name="${buttons[i].action}">
                                                <button class="button">${buttons[i].name}</button>
                                            </li>
                                        `
                                        $("#page-control").find("ul").append(button)
                                    }
                                }
                            }).promise().done(function(){
                                sendControlData()
                                changeControlButton(gamePage)
                                sendMessageControlData()
                                loadSelectOption()
                                sendGameID()
                            })
                        }
                    })
                }

                receivePageAction(data)
                receiveSettingsAction(data)

                if(data.action.indexOf("message-") == 0){
                    if(data.action === "message-play"){
                        nowMessageBtn = "play"
                    }else if(data.action === "message-stop"){
                        nowMessageBtn = "stop"
                    }
                    changeControlButton("message")
                }

            }
        }

        function isSocketExists(string){
            for(let i = 0; i < controlSockets_page.length; i++){
                if(controlSockets_page[i].url.includes(string)){
                    return true
                }
            }
            return false
        }

    }

    $("#control-page-select").bind("change", function(event){
        if(event.target.value !== "請選擇活動頁面"){
            createWebSocket_control(event.target.value)
            controlSockets_btn.forEach(obj => {
                if(!obj.url.includes(event.target.value)){
                    obj.close(1000)
                }
            })
            controlSockets_btn = controlSockets_btn.filter(obj => obj.url.includes(event.target.value))
        }
    })


    //判斷頁面按鈕是否開放
    function loadPageButtons(){
        if($("#control-page-select").val() === "請選擇活動頁面"){
            $(".page-button-box").find(".page-button").addClass("not-open")
        }else{
            openPageButtons()
        }
    }
    
    function pageButtonsStatus(data){
        buttonData[1].status = data.overview_topic
        buttonData[2].status = data.overview_question

        buttonData[3].status = data.overview_general
        buttonData[4].status = data.overview_threed
        buttonData[5].status = data.overview_signname

        buttonData[6].status = data.overview_redpack
        buttonData[7].status = data.overview_ropepack
        buttonData[8].status = data.overview_draw_numbers
        buttonData[9].status = data.overview_lottery
        buttonData[10].status = data.overview_bingo

        buttonData[11].status = data.overview_whack_mole
        buttonData[12].status = data.overview_monopoly
        buttonData[13].status = data.overview_qa
        buttonData[14].status = data.overview_tugofwar
    }

    function openPageButtons(){
        $(buttonData).each(function(i){
            if(buttonData[i].status !== "close"){
                $(".page-button").find("button[data-name="+ buttonData[i].name +"]").parents("li").removeClass("not-open")
            }
        })
    }

    function pageButtonControl(){
        $(".page-button").bind("click", function(){
            if($(this).hasClass("not-open")){
                
            }else if($(this).hasClass("focus")){
                
            }else{
                $(".page-button").removeClass("focus")
                $(this).addClass("focus")
                
                const pageName = $(this).find(".button").data("name")
                const objectJSON = { page: pageName, action: "" }
                controlSockets_btn[0].send(JSON.stringify(objectJSON))
            }
        })
    }

    function changeControlButton(page, status){
        if(status){
            if(page === "redpack" || page === "ropepack"){
                ButtonRedpack()
            }else if(page === "lottery"){
                ButtonLottery()
            }else if(page === "draw_numbers"){
                ButtonDrawNumbers()
            }else if(page === "whack_mole" || page === "monopoly"){
                ButtonMonopoly()
            }else if(page === "QA"){
                ButtonQA()
            }else if(page === "tugofwar"){
                ButtonTugofwar()
            }else if(page === "bingo"){
                ButtonBingo()
            }
        }else{
            if(page === "message"){
                ButtonMessage()
                sendMessageControlData()
            }else{

            }
        }
        
        function ButtonMessage(){
            const playBtn = $(".control-button[data-name=play]")
            const stopBtn = $(".control-button[data-name=stop]")

            if(nowMessageBtn === "play"){
                playBtn.addClass("d-none")
                stopBtn.removeClass("d-none")
            }else if(nowMessageBtn === "stop"){
                playBtn.removeClass("d-none")
                stopBtn.addClass("d-none")
            }
        }

        function ButtonRedpack(){
            if($("#page-control").find("ul").has(".select-button[data-name=select-scene]")){
                $(".control-button").addClass("d-none")
                $(".select-button[data-name=select-scene]").removeClass("d-none")
            }
            const _index = status.indexOf("_")
            let action = status.substr(0,  _index)
            if(_index === -1){
                action = status
            }
            if(action === "open"){
                $(".select-button[data-name=select-scene]").removeClass("disabled")
                $(".control-button[data-name=start]").removeClass("d-none")
                $(".control-button[data-name=end]").addClass("d-none")
                $(".control-button[data-name=again]").addClass("d-none")
            }else if(action === "start"){
                $(".select-button[data-name=select-scene]").addClass("disabled")
                $(".control-button[data-name=start]").addClass("d-none")
                $(".control-button[data-name=end]").addClass("d-none")
                $(".control-button[data-name=again]").addClass("d-none")
            }else if(action === "gaming"){
                $(".select-button[data-name=select-scene]").addClass("disabled")
                $(".control-button[data-name=start]").addClass("d-none")
                $(".control-button[data-name=end]").removeClass("d-none")
                $(".control-button[data-name=again]").addClass("d-none")
            }else if(action === "end"){
                $(".select-button[data-name=select-scene]").addClass("disabled")
                $(".control-button[data-name=start]").addClass("d-none")
                $(".control-button[data-name=end]").addClass("d-none")
                $(".control-button[data-name=again]").removeClass("d-none")
            }else if(action === "close"){
                $(".select-button[data-name=select-scene]").removeClass("disabled")
                $(".control-button[data-name=start]").addClass("d-none")
                $(".control-button[data-name=end]").addClass("d-none")
                $(".control-button[data-name=again]").addClass("d-none")
            }
        }

        function ButtonLottery(){
            if($("#page-control").find("ul").has(".select-button[data-name=select-scene]")){
                $(".control-button").addClass("d-none")
                $(".select-button[data-name=select-scene]").removeClass("d-none")
            }
            if(status === "order"){
                $(".select-button[data-name=select-scene]").removeClass("disabled")
                $(".control-button[data-name=go]").removeClass("d-none")
                $(".control-button[data-name=closeprize]").addClass("d-none")
                $(".control-button[data-name=order]").addClass("d-none")
                $(".control-button[data-name=simultaneous]").removeClass("d-none")
            }else if(status === "go"){
                $(".select-button[data-name=select-scene]").addClass("disabled")
                $(".control-button[data-name=go]").addClass("d-none")
                $(".control-button[data-name=closeprize]").addClass("d-none")
                $(".control-button[data-name=order]").addClass("d-none")
                $(".control-button[data-name=simultaneous]").addClass("d-none")
            }else if(status === "getprize"){
                $(".select-button[data-name=select-scene]").addClass("disabled")
                $(".control-button[data-name=go]").addClass("d-none")
                $(".control-button[data-name=closeprize]").removeClass("d-none")
                $(".control-button[data-name=order]").addClass("d-none")
                $(".control-button[data-name=simultaneous]").addClass("d-none")
            }else if(status === "open"){
                $(".select-button[data-name=select-scene]").removeClass("disabled")
                $(".control-button[data-name=go]").addClass("d-none")
                $(".control-button[data-name=closeprize]").addClass("d-none")
                $(".control-button[data-name=order]").removeClass("d-none")
                $(".control-button[data-name=simultaneous]").addClass("d-none")
            }else if(status === "close"){
                $(".select-button[data-name=select-scene]").removeClass("disabled")
                $(".control-button[data-name=go]").addClass("d-none")
                $(".control-button[data-name=closeprize]").addClass("d-none")
                $(".control-button[data-name=order]").addClass("d-none")
                $(".control-button[data-name=simultaneous]").addClass("d-none")
            }
        }
        
        function ButtonDrawNumbers(){
            if($("#page-control").find("ul").has(".select-button[data-name=select-scene]")){
                $(".control-button").addClass("d-none")
                $(".select-button[data-name=select-scene]").removeClass("d-none")
            }
            if(status === "loadcomplete"){
                $(".select-button[data-name=select-scene]").removeClass("disabled")
                $(".control-button[data-name=preprize]").removeClass("disabled")
                $(".control-button[data-name=nextprize]").removeClass("disabled")
                $(".control-button[data-name=addpeople]").removeClass("disabled")
                $(".control-button[data-name=reducepeople]").removeClass("disabled")
                $(".control-button[data-name=go]").removeClass("d-none")
                $(".control-button[data-name=showwinner]").addClass("d-none")
                $(".control-button[data-name=closeprize]").addClass("d-none")
            }else if(status === "go"){
                $(".select-button[data-name=select-scene]").addClass("disabled")
                $(".control-button[data-name=preprize]").addClass("disabled")
                $(".control-button[data-name=nextprize]").addClass("disabled")
                $(".control-button[data-name=addpeople]").addClass("disabled")
                $(".control-button[data-name=reducepeople]").addClass("disabled")
                $(".control-button[data-name=go]").addClass("d-none")
                $(".control-button[data-name=showwinner]").addClass("d-none")
                $(".control-button[data-name=closeprize]").addClass("d-none")
            }else if(status === "winnerready"){
                $(".select-button[data-name=select-scene]").addClass("disabled")
                $(".control-button[data-name=preprize]").addClass("disabled")
                $(".control-button[data-name=nextprize]").addClass("disabled")
                $(".control-button[data-name=addpeople]").addClass("disabled")
                $(".control-button[data-name=reducepeople]").addClass("disabled")
                $(".control-button[data-name=go]").addClass("d-none")
                $(".control-button[data-name=showwinner]").removeClass("d-none")
                $(".control-button[data-name=closeprize]").addClass("d-none")
            }else if(status === "openwinner"){
                $(".select-button[data-name=select-scene]").addClass("disabled")
                $(".control-button[data-name=preprize]").addClass("disabled")
                $(".control-button[data-name=nextprize]").addClass("disabled")
                $(".control-button[data-name=addpeople]").addClass("disabled")
                $(".control-button[data-name=reducepeople]").addClass("disabled")
                $(".control-button[data-name=go]").addClass("d-none")
                $(".control-button[data-name=showwinner]").addClass("d-none")
                $(".control-button[data-name=closeprize]").removeClass("d-none")
            }else if(status === "close"){
                $(".select-button[data-name=select-scene]").removeClass("disabled")
                $(".control-button[data-name=preprize]").addClass("disabled")
                $(".control-button[data-name=nextprize]").addClass("disabled")
                $(".control-button[data-name=addpeople]").addClass("disabled")
                $(".control-button[data-name=reducepeople]").addClass("disabled")
                $(".control-button[data-name=go]").removeClass("d-none")
                $(".control-button[data-name=showwinner]").addClass("d-none")
                $(".control-button[data-name=closeprize]").addClass("d-none")
            }
        }

        function ButtonMonopoly(){
            if($("#page-control").find("ul").has(".select-button[data-name=select-scene]")){
                $(".control-button").addClass("d-none")
                $(".select-button[data-name=select-scene]").removeClass("d-none")
            }
            const _index = status.indexOf("_")
            let action = status.substr(0,  _index)
            if(_index === -1){
                action = status
            }
            if(action === "open"){
                $(".select-button[data-name=select-scene]").removeClass("disabled")
                $(".control-button[data-name=start]").removeClass("d-none")
                $(".control-button[data-name=calculate]").addClass("d-none")
                $(".control-button[data-name=again]").addClass("d-none")
            }else if(action === "start"){
                $(".select-button[data-name=select-scene]").addClass("disabled")
                $(".control-button[data-name=start]").addClass("d-none")
                $(".control-button[data-name=calculate]").addClass("d-none")
                $(".control-button[data-name=again]").addClass("d-none")
            }else if(action === "gaming"){
                $(".select-button[data-name=select-scene]").addClass("disabled")
                $(".control-button[data-name=start]").addClass("d-none")
                $(".control-button[data-name=calculate]").removeClass("d-none")
                $(".control-button[data-name=again]").addClass("d-none")
            }else if(action === "calculate"){
                $(".select-button[data-name=select-scene]").addClass("disabled")
                $(".control-button[data-name=start]").addClass("d-none")
                $(".control-button[data-name=calculate]").addClass("d-none")
                $(".control-button[data-name=again]").addClass("d-none")
            }else if(action === "end"){
                $(".select-button[data-name=select-scene]").addClass("disabled")
                $(".control-button[data-name=start]").addClass("d-none")
                $(".control-button[data-name=calculate]").addClass("d-none")
                $(".control-button[data-name=again]").removeClass("d-none")
            }else if(action === "close"){
                $(".select-button[data-name=select-scene]").removeClass("disabled")
                $(".control-button[data-name=start]").addClass("d-none")
                $(".control-button[data-name=calculate]").addClass("d-none")
                $(".control-button[data-name=again]").addClass("d-none")
            }
        }

        function ButtonQA(){
            if($("#page-control").find("ul").has(".select-button[data-name=select-scene]")){
                $(".control-button").addClass("d-none")
                $(".select-button[data-name=select-scene]").removeClass("d-none")
            }
            const _index = status.indexOf("_")
            let action = status.substr(0,  _index)
            if(_index === -1){
                action = status
            }
            if(action === "open"){
                $(".select-button[data-name=select-scene]").removeClass("disabled")
                $(".control-button[data-name=start]").removeClass("d-none")
                $(".control-button[data-name=stop]").addClass("d-none")
                $(".control-button[data-name=keep]").addClass("d-none")
                $(".control-button[data-name=answer]").addClass("d-none")
                $(".control-button[data-name=result]").addClass("d-none")
                $(".control-button[data-name=next]").addClass("d-none")
                $(".control-button[data-name=calculate]").addClass("d-none")
                $(".control-button[data-name=again]").addClass("d-none")
            }else if(action === "start"){
                $(".select-button[data-name=select-scene]").addClass("disabled")
                $(".control-button[data-name=start]").addClass("d-none")
                $(".control-button[data-name=stop]").addClass("d-none")
                $(".control-button[data-name=keep]").addClass("d-none")
                $(".control-button[data-name=answer]").addClass("d-none")
                $(".control-button[data-name=result]").addClass("d-none")
                $(".control-button[data-name=next]").addClass("d-none")
                $(".control-button[data-name=calculate]").addClass("d-none")
                $(".control-button[data-name=again]").addClass("d-none")
            }else if(action === "question"){
                $(".select-button[data-name=select-scene]").addClass("disabled")
                $(".control-button[data-name=start]").addClass("d-none")
                $(".control-button[data-name=stop]").removeClass("d-none")
                $(".control-button[data-name=keep]").addClass("d-none")
                $(".control-button[data-name=answer]").removeClass("d-none")
                $(".control-button[data-name=result]").addClass("d-none")
                $(".control-button[data-name=next]").addClass("d-none")
                $(".control-button[data-name=calculate]").addClass("d-none")
                $(".control-button[data-name=again]").addClass("d-none")
            }else if(action === "stop"){
                $(".select-button[data-name=select-scene]").addClass("disabled")
                $(".control-button[data-name=start]").addClass("d-none")
                $(".control-button[data-name=stop]").addClass("d-none")
                $(".control-button[data-name=keep]").removeClass("d-none")
                $(".control-button[data-name=answer]").removeClass("d-none")
                $(".control-button[data-name=result]").addClass("d-none")
                $(".control-button[data-name=next]").addClass("d-none")
                $(".control-button[data-name=calculate]").addClass("d-none")
                $(".control-button[data-name=again]").addClass("d-none")
            }else if(action === "gaming"){
                $(".select-button[data-name=select-scene]").addClass("disabled")
                $(".control-button[data-name=start]").addClass("d-none")
                $(".control-button[data-name=stop]").addClass("d-none")
                $(".control-button[data-name=keep]").addClass("d-none")
                $(".control-button[data-name=answer]").addClass("d-none")
                setTimeout(function(){
                    $(".control-button[data-name=result]").removeClass("d-none")
                }, 3000)
                $(".control-button[data-name=next]").addClass("d-none")
                $(".control-button[data-name=calculate]").addClass("d-none")
                $(".control-button[data-name=again]").addClass("d-none")
            }else if(action === "result"){
                $(".select-button[data-name=select-scene]").addClass("disabled")
                $(".control-button[data-name=start]").addClass("d-none")
                $(".control-button[data-name=stop]").addClass("d-none")
                $(".control-button[data-name=keep]").addClass("d-none")
                $(".control-button[data-name=answer]").addClass("d-none")
                $(".control-button[data-name=result]").addClass("d-none")
                $(".control-button[data-name=next]").removeClass("d-none")
                $(".control-button[data-name=calculate]").removeClass("d-none")
                $(".control-button[data-name=again]").addClass("d-none")
            }else if(action === "last"){
                $(".select-button[data-name=select-scene]").addClass("disabled")
                $(".control-button[data-name=start]").addClass("d-none")
                $(".control-button[data-name=stop]").addClass("d-none")
                $(".control-button[data-name=keep]").addClass("d-none")
                $(".control-button[data-name=answer]").addClass("d-none")
                $(".control-button[data-name=result]").addClass("d-none")
                $(".control-button[data-name=next]").addClass("d-none")
                $(".control-button[data-name=calculate]").removeClass("d-none")
                $(".control-button[data-name=again]").addClass("d-none")
            }else if(action === "calculate"){
                $(".select-button[data-name=select-scene]").addClass("disabled")
                $(".control-button[data-name=start]").addClass("d-none")
                $(".control-button[data-name=stop]").addClass("d-none")
                $(".control-button[data-name=keep]").addClass("d-none")
                $(".control-button[data-name=answer]").addClass("d-none")
                $(".control-button[data-name=result]").addClass("d-none")
                $(".control-button[data-name=next]").addClass("d-none")
                $(".control-button[data-name=calculate]").addClass("d-none")
                $(".control-button[data-name=again]").addClass("d-none")
            }else if(action === "end"){
                $(".select-button[data-name=select-scene]").addClass("disabled")
                $(".control-button[data-name=start]").addClass("d-none")
                $(".control-button[data-name=stop]").addClass("d-none")
                $(".control-button[data-name=keep]").addClass("d-none")
                $(".control-button[data-name=answer]").addClass("d-none")
                $(".control-button[data-name=result]").addClass("d-none")
                $(".control-button[data-name=next]").addClass("d-none")
                $(".control-button[data-name=calculate]").addClass("d-none")
                $(".control-button[data-name=again]").removeClass("d-none")
            }else if(action === "close"){
                $(".select-button[data-name=select-scene]").removeClass("disabled")
                $(".control-button[data-name=start]").addClass("d-none")
                $(".control-button[data-name=stop]").addClass("d-none")
                $(".control-button[data-name=keep]").addClass("d-none")
                $(".control-button[data-name=answer]").addClass("d-none")
                $(".control-button[data-name=result]").addClass("d-none")
                $(".control-button[data-name=next]").addClass("d-none")
                $(".control-button[data-name=calculate]").addClass("d-none")
                $(".control-button[data-name=again]").addClass("d-none")
            }
        }

        function ButtonTugofwar(){
            if($("#page-control").find("ul").has(".select-button[data-name=select-scene]")){
                $(".control-button").addClass("d-none")
                $(".select-button[data-name=select-scene]").removeClass("d-none")
            }
            const _index = status.indexOf("_")
            let action = status.substr(0,  _index)
            if(_index === -1){
                action = status
            }
            if(action === "open"){
                $(".select-button[data-name=select-scene]").removeClass("disabled")
                $(".control-button[data-name=start]").removeClass("d-none")
                $(".control-button[data-name=calculate]").addClass("d-none")
                $(".control-button[data-name=again]").addClass("d-none")
                $(".control-button[data-name=adjust]").removeClass("d-none")
            }else if(action === "start"){
                $(".select-button[data-name=select-scene]").addClass("disabled")
                $(".control-button[data-name=start]").addClass("d-none")
                $(".control-button[data-name=calculate]").addClass("d-none")
                $(".control-button[data-name=again]").addClass("d-none")
                $(".control-button[data-name=adjust]").addClass("d-none")
            }else if(action === "gaming"){
                $(".select-button[data-name=select-scene]").addClass("disabled")
                $(".control-button[data-name=start]").addClass("d-none")
                $(".control-button[data-name=calculate]").removeClass("d-none")
                $(".control-button[data-name=again]").addClass("d-none")
                $(".control-button[data-name=adjust]").addClass("d-none")
            }else if(action === "calculate"){
                $(".select-button[data-name=select-scene]").addClass("disabled")
                $(".control-button[data-name=start]").addClass("d-none")
                $(".control-button[data-name=calculate]").addClass("d-none")
                $(".control-button[data-name=again]").addClass("d-none")
                $(".control-button[data-name=adjust]").addClass("d-none")
            }else if(action === "end"){
                $(".select-button[data-name=select-scene]").addClass("disabled")
                $(".control-button[data-name=start]").addClass("d-none")
                $(".control-button[data-name=calculate]").addClass("d-none")
                $(".control-button[data-name=again]").removeClass("d-none")
                $(".control-button[data-name=adjust]").addClass("d-none")
            }else if(action === "close"){
                $(".select-button[data-name=select-scene]").removeClass("disabled")
                $(".control-button[data-name=start]").addClass("d-none")
                $(".control-button[data-name=calculate]").addClass("d-none")
                $(".control-button[data-name=again]").addClass("d-none")
                $(".control-button[data-name=adjust]").addClass("d-none")
            }else if(action === "adjust"){
                $(".select-button[data-name=select-scene]").removeClass("disabled")
                $(".control-button[data-name=start]").addClass("d-none")
                $(".control-button[data-name=calculate]").addClass("d-none")
                $(".control-button[data-name=again]").addClass("d-none")
                $(".control-button[data-name=adjust]").addClass("d-none")
                const objectJSON = { page: "", action: "average_"+ clickCount++ }
                controlSockets_btn[0].send(JSON.stringify(objectJSON))
            }
        }

        function ButtonBingo(){
            if($("#page-control").find("ul").has(".select-button[data-name=select-scene]")){
                $(".control-button").addClass("d-none")
                $(".select-button[data-name=select-scene]").removeClass("d-none")
            }
            const _index = status.indexOf("_")
            let action = status.substr(0,  _index)
            if(_index === -1){
                action = status
            }
            if(action === "open"){
                $(".select-button[data-name=select-scene]").removeClass("disabled")
                $(".control-button[data-name=start]").removeClass("d-none")
                $(".control-button[data-name=picknumber]").addClass("d-none")
                $(".control-button[data-name=calculate]").addClass("d-none")
                $(".control-button[data-name=again]").addClass("d-none")

                $(".control-button[data-name=openGoingBingoList]").addClass("d-none")
                $(".control-button[data-name=closeGoingBingoList]").addClass("d-none")
                $(".control-button[data-name=closeBingoList]").addClass("d-none")
            }else if(action === "start"){
                $(".select-button[data-name=select-scene]").addClass("disabled")
                $(".control-button[data-name=start]").addClass("d-none")
                $(".control-button[data-name=picknumber]").addClass("d-none")
                $(".control-button[data-name=calculate]").addClass("d-none")
                $(".control-button[data-name=again]").addClass("d-none")

                $(".control-button[data-name=openGoingBingoList]").addClass("d-none")
                $(".control-button[data-name=closeGoingBingoList]").addClass("d-none")
                $(".control-button[data-name=closeBingoList]").addClass("d-none")
            }else if(action === "gaming"){
                $(".select-button[data-name=select-scene]").addClass("disabled")
                $(".control-button[data-name=start]").addClass("d-none")
                $(".control-button[data-name=picknumber]").removeClass("d-none")
                $(".control-button[data-name=calculate]").removeClass("d-none")
                $(".control-button[data-name=again]").addClass("d-none")

                $(".control-button[data-name=openGoingBingoList]").removeClass("d-none")
                $(".control-button[data-name=closeGoingBingoList]").addClass("d-none")
                $(".control-button[data-name=closeBingoList]").addClass("d-none")
            }else if(action === "openGoingBingoList"){
                $(".select-button[data-name=select-scene]").addClass("disabled")
                $(".control-button[data-name=start]").addClass("d-none")
                $(".control-button[data-name=picknumber]").addClass("d-none")
                $(".control-button[data-name=calculate]").addClass("d-none")
                $(".control-button[data-name=again]").addClass("d-none")

                $(".control-button[data-name=openGoingBingoList]").addClass("d-none")
                $(".control-button[data-name=closeGoingBingoList]").removeClass("d-none")
                $(".control-button[data-name=closeBingoList]").addClass("d-none")
            }else if(action === "openBingoList"){
                $(".select-button[data-name=select-scene]").addClass("disabled")
                $(".control-button[data-name=start]").addClass("d-none")
                $(".control-button[data-name=picknumber]").addClass("d-none")
                $(".control-button[data-name=calculate]").addClass("d-none")
                $(".control-button[data-name=again]").addClass("d-none")

                $(".control-button[data-name=openGoingBingoList]").addClass("d-none")
                $(".control-button[data-name=closeGoingBingoList]").addClass("d-none")
                $(".control-button[data-name=closeBingoList]").removeClass("d-none")
            }else if(action === "calculate"){
                $(".select-button[data-name=select-scene]").addClass("disabled")
                $(".control-button[data-name=start]").addClass("d-none")
                $(".control-button[data-name=picknumber]").addClass("d-none")
                $(".control-button[data-name=calculate]").addClass("d-none")
                $(".control-button[data-name=again]").addClass("d-none")

                $(".control-button[data-name=openGoingBingoList]").addClass("d-none")
                $(".control-button[data-name=closeGoingBingoList]").addClass("d-none")
                $(".control-button[data-name=closeBingoList]").addClass("d-none")
            }else if(action === "end"){
                $(".select-button[data-name=select-scene]").addClass("disabled")
                $(".control-button[data-name=start]").addClass("d-none")
                $(".control-button[data-name=picknumber]").addClass("d-none")
                $(".control-button[data-name=calculate]").addClass("d-none")
                $(".control-button[data-name=again]").removeClass("d-none")

                $(".control-button[data-name=openGoingBingoList]").addClass("d-none")
                $(".control-button[data-name=closeGoingBingoList]").addClass("d-none")
                $(".control-button[data-name=closeBingoList]").addClass("d-none")
            }else if(action === "close"){
                $(".select-button[data-name=select-scene]").removeClass("disabled")
                $(".control-button[data-name=start]").addClass("d-none")
                $(".control-button[data-name=picknumber]").addClass("d-none")
                $(".control-button[data-name=calculate]").addClass("d-none")
                $(".control-button[data-name=again]").addClass("d-none")

                $(".control-button[data-name=openGoingBingoList]").addClass("d-none")
                $(".control-button[data-name=closeGoingBingoList]").addClass("d-none")
                $(".control-button[data-name=closeBingoList]").addClass("d-none")
            }else if(action === "picknumber"){
                $(".select-button[data-name=select-scene]").addClass("disabled")
                $(".control-button[data-name=start]").addClass("d-none")
                $(".control-button[data-name=picknumber]").addClass("d-none")
                $(".control-button[data-name=calculate]").addClass("d-none")
                $(".control-button[data-name=again]").addClass("d-none")

                $(".control-button[data-name=openGoingBingoList]").addClass("d-none")
                $(".control-button[data-name=closeGoingBingoList]").addClass("d-none")
                $(".control-button[data-name=closeBingoList]").addClass("d-none")
            }
        }

    }
    
    function sendControlData(){
        $(".control-button:not(.disabled)").bind("click", function(){
            const action = $(this).data("name")
            const objectJSON = { page: "", action: action +"_"+ clickCount++, game_id: $("#page-control").data("game-id") }
            controlSockets_btn[0].send(JSON.stringify(objectJSON))
        })
    }

    function sendGameID(){
        $(".select-button:not(.disabled)").find("select").bind("input", function(){
            const value = $(this).val()
            const objectJSON = { page: "", action: "selectScene_"+ clickCount++, Game: { game_id_2: value } }
            controlSockets_btn[0].send(JSON.stringify(objectJSON))
        })
    }

    function sendSettingData(){
        $(".setting-button").bind("click", function(){
            const action = $(this).data("name")
            const objectJSON = { page: "", action: action }
            controlSockets_btn[0].send(JSON.stringify(objectJSON))
        })
    }

    function receivePageAction(data){
        if(data.page !== ""){
            $(".page-button-box").find(".page-button").removeClass("focus")
            $(".button[data-name="+ data.page +"]").parents(".page-button").addClass("focus")
        }
    }

    function receiveSettingsAction(data){
        if(data.action.indexOf("setting-") == 0){
            if(data.action === "setting-qrcode-close"){
                $(".setting-button[data-name=setting-qrcode]").removeClass("open").data("name", "setting-qrcode-close")
                $(".setting-button[data-name=setting-qrcode]").find("strong").text("已關閉")

            }else if(data.action === "setting-qrcode-open"){
                $(".setting-button[data-name=setting-qrcode]").addClass("open").data("name", "setting-qrcode-open")
                $(".setting-button[data-name=setting-qrcode]").find("strong").text("已開啟")

            }else if(data.action === "setting-music-close"){
                $(".setting-button[data-name=setting-music]").removeClass("open").data("name", "setting-music-close")
                $(".setting-button[data-name=setting-music]").find("strong").text("已關閉")

            }else if(data.action === "setting-music-open"){
                $(".setting-button[data-name=setting-music]").addClass("open").data("name", "setting-music-open")
                $(".setting-button[data-name=setting-music]").find("strong").text("已開啟")

            }else if(data.action === "setting-danmu-close"){
                $(".setting-button[data-name=setting-danmu]").removeClass("open").data("name", "setting-danmu-close")
                $(".setting-button[data-name=setting-danmu]").find("strong").text("已隱藏")

            }else if(data.action === "setting-danmu-open"){
                $(".setting-button[data-name=setting-danmu]").addClass("open").data("name", "setting-danmu-open")
                $(".setting-button[data-name=setting-danmu]").find("strong").text("已顯示")
                
            }
        }
    }

    function loadSelectOption(){
        getGameSceneArray().then(function(){
            customSelect(gameSceneArray)
        })
    }

    async function getGameSceneArray(){
        let dataURL = "https://"+ getAPIDomainFromURL() +"/v1/interact/game?activity_id=" + getKeyFromURL("activity_id") + "&game="+ gamePage
        try {
            const res = await fetch(dataURL)
            const res_1 = await res.json()
            const data = res_1.data
            if (gamePage !== "message" || gamePage !== "topic" || gamePage !== "question" || gamePage !== "general" || gamePage !== "threed" || gamePage !== "signname") {
                gameSceneArray = []
                gameSceneArray.push(...data)
                currentGameID = gameSceneArray[0].game_id
            }
        } catch {
            console.log("取得遊戲資料錯誤或非遊戲頁面")
        }
    }

    function customSelect(arr){
        $(document).ready(function () {
            const controlArea = $(".select-button[data-name=select-scene]")
            controlArea.find("select").empty()
            $(arr).each(function (i) {
                const template = `<option value="${arr[i].game_id}">${arr[i].title}</option>`
                const option = $(template)
                controlArea.find("select").append(option)
            }).promise().done(function(){
                
            })
        })
    }

    function sendMessageControlData(){
        const playBtn = $(".control-button[data-name=play]")
        const stopBtn = $(".control-button[data-name=stop]")

        playBtn.bind("click", function(){
            $(this).addClass("d-none")
            stopBtn.removeClass("d-none")
            nowMessageBtn = "play"
        })

        stopBtn.bind("click", function(){
            $(this).addClass("d-none")
            playBtn.removeClass("d-none")
            nowMessageBtn = "stop"
        })
    }

    //取得API的網域
    function getAPIDomainFromURL(){
        if(window.location.host.startsWith("dev")){
            return "apidev.hilives.net"
        }else{
            return "api.hilives.net"
        }
    }

    //取得網址的關鍵值
    function getKeyFromURL(key){
        var query = window.location.search.substring(1)
        var vars = query.split("&")
        for(var i = 0; i < vars.length; i++){
            var pair = vars[i].split("=")
            if(pair[0] == key){
                return pair[1]
            }
        }
        return("")
    }


</script>
</html>